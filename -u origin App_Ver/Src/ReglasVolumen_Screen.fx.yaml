"ReglasVolumen_Screen As screen.'phoneLayout_FluidGridWithHeaderPageLayout_ver3.0'":
    BackgroundImage: =fondoPrincipal
    ImagePosition: =ImagePosition.Stretch
    OnVisible: |-
        =UpdateContext({vsbBtnContainer:true});
        UpdateContext({vsbBtnMeses:true});
        UpdateContext({vsbBtnProduct:true});
        UpdateContext({vsbBtnConversion:true});
        //__ Visibilidad Data Card
        UpdateContext({vsbDtcProduct:false});
        UpdateContext({vsbDtcContainer:false});
        UpdateContext({vsbDtcMeses:false});

    rvs_cnv_data As fluidGrid.fluidGridWithBlankCard:
        BorderThickness: =0
        Height: =707
        Width: =Parent.Width
        Y: =61
        ZIndex: =1

        rvs_dtc_titulo As dataCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =0
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =70
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =1

            rvs_lbl_tituloScreen As label:
                Align: =Align.Center
                Color: =RGBA(5, 28, 87, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Bold
                Height: =70
                Size: =35
                Text: ="Volumen"
                Width: =1366
                ZIndex: =1

        rvs_dtc_botones As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =80
            Width: =1366
            X: =0
            Y: =1
            ZIndex: =2

            rvs_cnt_botones As groupContainer.manualLayoutContainer:
                Height: =80
                Width: =1366
                ZIndex: =1

                rvs_btn_producto As button:
                    BorderColor: =RGBA(107, 165, 231, 1)
                    BorderThickness: =1
                    Color: =RGBA(5, 28, 87, 1)
                    DisabledBorderColor: =RGBA(107, 165, 231, 1)
                    DisabledColor: =RGBA(255, 255, 255, 1)
                    DisabledFill: =RGBA(107, 165, 231, 1)
                    DisplayMode: =If(vsbBtnProduct = true,DisplayMode.Edit,DisplayMode.Disabled)
                    Fill: =RGBA(255, 255, 255, 1)
                    Font: =Font.Lato
                    HoverFill: =ColorFade(RGBA(107, 165, 231, 1),-20%)
                    OnSelect: |-
                        =// Desabilitamos el boton Product
                        UpdateContext({vsbBtnProduct:false});
                        // Habilitamos los botones Container y Meses
                        UpdateContext({vsbBtnContainer:true});
                        UpdateContext({vsbBtnMeses:true});
                        UpdateContext({vsbBtnConversion:true});
                        // Activamos visibilidad para dtc de Product
                        UpdateContext({vsbDtcProduct:true});
                        
                        // Desactivamos dtc Contanier
                        UpdateContext({vsbDtcContainer:false});
                        Reset(rvs_dpd_razonSocial_Container);
                        Reset(rvs_dpd_containerType);
                        Reset(rvs_dpd_container);
                        Set(varConcatContainerType,Blank());
                        Set(varConcatContainer,Blank());
                        
                        // Desactivamos dtc Meses
                        UpdateContext({vsbDtcMeses:false});
                        Reset(rvs_dpd_razonSocial_Meses);
                        Reset(rvs_dpd_subcategory_Meses);
                        Reset(rvs_dpd_brand_Meses);
                        Set(varConcatSubcategoryInnova,Blank());
                        Set(varConcatBrandInnova,Blank());
                    PressedBorderColor: =RGBA(107, 165, 231, 1)
                    PressedFill: =RGBA(107, 165, 231, 1)
                    Size: =13
                    Text: ="Rule 1 - Producto"
                    Width: =230
                    X: =119
                    Y: =21
                    ZIndex: =2

                rvs_btn_contaniner As button:
                    BorderColor: =RGBA(107, 165, 231, 1)
                    BorderThickness: =1
                    Color: =RGBA(5, 28, 87, 1)
                    DisabledBorderColor: =RGBA(107, 165, 231, 1)
                    DisabledColor: =RGBA(255, 255, 255, 1)
                    DisabledFill: =RGBA(107, 165, 231, 1)
                    DisplayMode: =If(vsbBtnContainer = true,DisplayMode.Edit,DisplayMode.Disabled)
                    Fill: =RGBA(255, 255, 255, 1)
                    Font: =Font.Lato
                    HoverFill: =ColorFade(RGBA(107, 165, 231, 1),-20%)
                    OnSelect: |-
                        =// Desabilitamos el boton Container
                        UpdateContext({vsbBtnContainer:false});
                        // Habilitamos los botones Container y Meses
                        UpdateContext({vsbBtnProduct:true});
                        UpdateContext({vsbBtnMeses:true});
                        UpdateContext({vsbBtnConversion:true});
                        
                        // Habilitamos dtc Contanier
                        UpdateContext({vsbDtcContainer:true});
                        
                        //Desactivamos visibilidad para dtc de Product
                        UpdateContext({vsbDtcProduct:false});
                        Reset(rvs_dpd_razonSocial_Product);
                        Reset(rvs_dpd_subcategory_Product);
                        Reset(rvs_dpd_brand_Product);
                        Reset(rvs_dpd_Product);
                        Set(varConcatSubcategory,Blank());
                        Set(varConcatBrand,Blank());
                        Set(varConcatProduct,Blank());
                        
                        // Desactivamos dtc Meses
                        UpdateContext({vsbDtcMeses:false});
                        Reset(rvs_dpd_razonSocial_Meses);
                        Reset(rvs_dpd_subcategory_Meses);
                        Reset(rvs_dpd_brand_Meses);
                        Set(varConcatSubcategoryInnova,Blank());
                        Set(varConcatBrandInnova,Blank());
                    PressedBorderColor: =RGBA(107, 165, 231, 1)
                    PressedFill: =RGBA(107, 165, 231, 1)
                    Size: =13
                    Text: ="Rule 2 - Container"
                    Width: =230
                    X: =419
                    Y: =21
                    ZIndex: =3

                rvs_btn_inovacion As button:
                    BorderColor: =RGBA(107, 165, 231, 1)
                    BorderThickness: =1
                    Color: =RGBA(5, 28, 87, 1)
                    DisabledBorderColor: =RGBA(107, 165, 231, 1)
                    DisabledColor: =RGBA(255, 255, 255, 1)
                    DisabledFill: =RGBA(107, 165, 231, 1)
                    DisplayMode: =If(vsbBtnMeses = true,DisplayMode.Edit,DisplayMode.Disabled)
                    Fill: =RGBA(255, 255, 255, 1)
                    Font: =Font.Lato
                    HoverFill: =ColorFade(RGBA(107, 165, 231, 1),-20%)
                    OnSelect: |-
                        =// Desabilitamos el boton Meses
                        UpdateContext({vsbBtnMeses:false});
                        // Habilitamos los botones Container y Product
                        UpdateContext({vsbBtnProduct:true});
                        UpdateContext({vsbBtnContainer:true});
                        UpdateContext({vsbBtnConversion:true});
                        
                        // Habilitamos dtc Meses
                        UpdateContext({vsbDtcMeses:true});
                        
                        //Desactivamos visibilidad para dtc de Product
                        UpdateContext({vsbDtcProduct:false});
                        Reset(rvs_dpd_razonSocial_Product);
                        Reset(rvs_dpd_subcategory_Product);
                        Reset(rvs_dpd_brand_Product);
                        Reset(rvs_dpd_Product);
                        Set(varConcatSubcategory,Blank());
                        Set(varConcatBrand,Blank());
                        Set(varConcatProduct,Blank());
                        
                        // Desactivamos dtc Contanier
                        UpdateContext({vsbDtcContainer:false});
                        Reset(rvs_dpd_razonSocial_Container);
                        Reset(rvs_dpd_containerType);
                        Reset(rvs_dpd_container);
                        Set(varConcatContainerType,Blank());
                        Set(varConcatContainer,Blank());
                    PressedBorderColor: =RGBA(107, 165, 231, 1)
                    PressedFill: =RGBA(107, 165, 231, 1)
                    Size: =13
                    Text: ="Rule 3 - Innovación > 3 Meses"
                    Width: =230
                    X: =719
                    Y: =21
                    ZIndex: =4

                rvs_btn_conversion As button:
                    BorderColor: =RGBA(107, 165, 231, 1)
                    BorderThickness: =1
                    Color: =RGBA(5, 28, 87, 1)
                    DisabledBorderColor: =RGBA(107, 165, 231, 1)
                    DisabledColor: =RGBA(255, 255, 255, 1)
                    DisabledFill: =RGBA(107, 165, 231, 1)
                    DisplayMode: =If(vsbBtnConversion = true,DisplayMode.Edit,DisplayMode.Disabled)
                    Fill: =RGBA(255, 255, 255, 1)
                    Font: =Font.Lato
                    HoverFill: =ColorFade(RGBA(107, 165, 231, 1),-20%)
                    OnSelect: |-
                        =// Desabilitamos el boton Meses
                        UpdateContext({vsbBtnConversion:false});
                        // Habilitamos los botones Container y Product
                        UpdateContext({vsbBtnProduct:true});
                        UpdateContext({vsbBtnContainer:true});
                        UpdateContext({vsbBtnMeses:true});
                        
                        // Habilitamos dtc Meses
                        UpdateContext({vsbDtcConver:true});
                        
                        //Desactivamos visibilidad para dtc de Product
                        UpdateContext({vsbDtcProduct:false});
                        Reset(rvs_dpd_razonSocial_Product);
                        Reset(rvs_dpd_subcategory_Product);
                        Reset(rvs_dpd_brand_Product);
                        Reset(rvs_dpd_Product);
                        Set(varConcatSubcategory,Blank());
                        Set(varConcatBrand,Blank());
                        Set(varConcatProduct,Blank());
                        
                        // Desactivamos dtc Contanier
                        UpdateContext({vsbDtcContainer:false});
                        Reset(rvs_dpd_razonSocial_Container);
                        Reset(rvs_dpd_containerType);
                        Reset(rvs_dpd_container);
                        Set(varConcatContainerType,Blank());
                        Set(varConcatContainer,Blank());
                        
                        // Desactivamos dtc Meses
                        UpdateContext({vsbDtcMeses:false});
                        Reset(rvs_dpd_razonSocial_Meses);
                        Reset(rvs_dpd_subcategory_Meses);
                        Reset(rvs_dpd_brand_Meses);
                        Set(varConcatSubcategoryInnova,Blank());
                        Set(varConcatBrandInnova,Blank());
                    PressedBorderColor: =RGBA(107, 165, 231, 1)
                    PressedFill: =RGBA(107, 165, 231, 1)
                    Size: =13
                    Text: ="Rule 4 - Conversión"
                    Width: =230
                    X: =1019
                    Y: =21
                    ZIndex: =5

        rvs_dtc_filtrosProduct As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =100
            Visible: =vsbDtcProduct
            Width: =1366
            X: =0
            Y: =2
            ZIndex: =3

            rvs_lbl_razonSocial_Product As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="Razón Social"
                Width: =400
                X: =31
                Y: =7
                ZIndex: =1

            rvs_dpd_razonSocial_Product As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: =Distinct(colProductVlmRule,RAZONSOCIAL)
                OnChange: |
                    =// Reset al componente SubCategory
                    Reset(rvs_dpd_subcategory_Product);
                    // Generamos la lista Subcategory
                    Set(varConcatSubcategory,Concat(Distinct(Filter(colProductVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Product.Selected.Value),SUBCATEGORY),Value,";"))
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: =Search(Distinct(colProductVlmRule,RAZONSOCIAL),rvs_dpd_razonSocial_Product.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =400
                X: =31
                Y: =47
                ZIndex: =3

            rvs_lbl_subCategory As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="SubCategory"
                Width: =250
                X: =459
                Y: =7
                ZIndex: =4

            rvs_dpd_subcategory_Product As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: |-
                    =Distinct(ForAll(Split(varConcatSubcategory,";"), {Result: ThisRecord.Value}),Result)
                OnChange: |
                    =// Reset al componente Brand
                    Reset(rvs_dpd_brand_Product);
                    // Generamos la lista Brand
                    Set(varConcatBrand,Concat(Distinct(Search(Filter(colProductVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Product.Selected.Value),rvs_dpd_subcategory_Product.Selected.Value,"SUBCATEGORY0"),BRAND),Value,";"))
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: |-
                    =Search(Distinct(ForAll(Split(varConcatSubcategory,";"), {Result: ThisRecord.Value}),Result),rvs_dpd_subcategory_Product.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =250
                X: =459
                Y: =47
                ZIndex: =5

            rvs_img_newReglaProduct As image:
                Height: =50
                Image: =add
                Visible: =If(varUserRol = "Administrador",true,false)
                Width: =50
                X: =1285
                Y: =37
                ZIndex: =6

            rvs_btn_newReglaProduct As button:
                Fill: =Color.Transparent
                Height: =50
                HoverFill: =RGBA(56, 136, 210, 0.5)
                OnSelect: |-
                    =// Iniciamos loading
                    UpdateContext({vsbLoadingNewRglProd:true});
                    //Obtenemos Catalogo LAB_PRODUCT completo
                    ClearCollect(
                        colLabProductCompleto,
                        Filter(LAB_PRODUCT,NumberProduct <=2000),
                        Filter(LAB_PRODUCT,NumberProduct > 2000 && NumberProduct <= 4000)
                        );
                    //Aplicamos Distinct SubCategory
                    ClearCollect(colCatSubcategory,ForAll(Distinct(colLabProductCompleto,SUBCATEGORY), {Result: ThisRecord.Value}));
                    
                    UpdateContext({vsbNewRglProduct:true});
                    // Finalizamos loading
                    UpdateContext({vsbLoadingNewRglProd:false});
                PressedFill: =RGBA(56, 136, 210, 0.2)
                Text: =""
                Visible: =If(varUserRol = "Administrador",true,false)
                Width: =50
                X: =1285
                Y: =37
                ZIndex: =7

            rvs_lbl_brand_Product As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="Brand"
                Width: =250
                X: =737
                Y: =7
                ZIndex: =8

            rvs_dpd_brand_Product As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: |-
                    =Distinct(ForAll(Split(varConcatBrand,";"), {Result: ThisRecord.Value}),Result)
                OnChange: |
                    =// Reset al componente Prodcut
                    Reset(rvs_dpd_Product);
                    // Generamos lista Product
                    Set(varConcatProduct,Concat(Distinct(Search(
                        Search(Filter(colProductVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Product.Selected.Value),rvs_dpd_subcategory_Product.Selected.Value,"SUBCATEGORY0"),rvs_dpd_brand_Product.Selected.Value,"BRAND0")
                        ,PRODUCT),Value,";"))
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: |-
                    =Search(Distinct(ForAll(Split(varConcatBrand,";"), {Result: ThisRecord.Value}),Result),rvs_dpd_brand_Product.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =250
                X: =737
                Y: =47
                ZIndex: =9

            rvs_lbl_Product As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="Product"
                Width: =250
                X: =1015
                Y: =7
                ZIndex: =10

            rvs_dpd_Product As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: |-
                    =Distinct(ForAll(Split(varConcatProduct,";"), {Result: ThisRecord.Value}),Result)
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: |-
                    =Search(Distinct(ForAll(Split(varConcatProduct,";"), {Result: ThisRecord.Value}),Result),rvs_dpd_Product.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =250
                X: =1015
                Y: =47
                ZIndex: =11

        rvs_dtc_lineProduct As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =30
            Visible: =vsbDtcProduct
            Width: =1366
            X: =0
            Y: =3
            ZIndex: =4

        rvs_dtc_headerProduct As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =40
            Visible: =vsbDtcProduct
            Width: =1366
            X: =0
            Y: =4
            ZIndex: =5

            rvs_btn_headerRazonSocial_Prd As button:
                Align: =Align.Left
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="Razón Social"
                Width: =440
                X: =24
                ZIndex: =1

            rvs_btn_headerSubcategory_Prd As button:
                Align: =Align.Left
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="SubCategory"
                Width: =220
                X: =464
                ZIndex: =2

            rvs_btn_headerBrand_Prd As button:
                Align: =Align.Left
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="Brand"
                Width: =220
                X: =684
                ZIndex: =3

            rvs_btn_headerProduct_Prd As button:
                Align: =Align.Left
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="Product"
                Width: =220
                X: =904
                ZIndex: =4

            rvs_btn_headerStatus_Prd As button:
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="Status"
                Width: =110
                X: =1124
                ZIndex: =5

            rvs_btn_headerEdit_Prd As button:
                Color: =RGBA(71, 71, 71, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Text: =""
                Width: =110
                X: =1234
                ZIndex: =6

        rvs_dtc_dataReglaProduct As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =360
            Visible: =vsbDtcProduct
            Width: =1366
            X: =0
            Y: =5
            ZIndex: =6

            rvs_gal_dataReglasVlmProduct As gallery.galleryVertical:
                BorderColor: =RGBA(56, 136, 210, 1)
                BorderThickness: =1
                Fill: =RGBA(255, 255, 255, 1)
                Height: =300
                Items: =Search(Search(Search(Filter(colProductVlmRule,RAZONSOCIAL = rvs_dpd_razonSocial_Product.Selected.Value || rvs_dpd_razonSocial_Product.Selected.Value = Blank()),rvs_dpd_subcategory_Product.Selected.Value,"SUBCATEGORY0"),rvs_dpd_brand_Product.Selected.Value,"BRAND0"),rvs_dpd_Product.Selected.Value,"PRODUCT0")
                Layout: =Layout.Vertical
                TemplatePadding: =1
                TemplateSize: =40
                Width: =1320
                X: =24
                ZIndex: =1

                gal_dpd_razonSocial_Product As label:
                    Color: =RGBA(65, 65, 65, 1)
                    Font: =Font.Lato
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.RAZONSOCIAL
                    Width: =rvs_btn_headerRazonSocial_Prd.Width
                    ZIndex: =1

                gal_dpd_subcategory_Product As combobox:
                    Color: =RGBA(65, 65, 65, 1)
                    DefaultSelectedItems: |-
                        =ForAll(Split(ThisItem.SUBCATEGORY, ";" ), {Result: ThisRecord.Value})
                    DisplayFields: =["Result"]
                    DisplayMode: =DisplayMode.View
                    Font: =Font.Lato
                    Items: |-
                        =ForAll(Split(ThisItem.SUBCATEGORY, ";" ), {Result: ThisRecord.Value})
                    OnSelect: =Select(Parent)
                    SearchFields: =["Result"]
                    SearchItems: |-
                        =Search(ForAll(Split(ThisItem.SUBCATEGORY, ";" ), {Result: ThisRecord.Value}),gal_dpd_subcategory_Product.SearchText,"Result")
                    Width: =rvs_btn_headerSubcategory_Prd.Width
                    X: =440
                    ZIndex: =2

                gal_dpd_brand_Product As combobox:
                    DefaultSelectedItems: |-
                        =ForAll(Split(ThisItem.BRAND,";"), {Result: ThisRecord.Value})
                    DisplayFields: =["Result"]
                    DisplayMode: =DisplayMode.View
                    IsSearchable: =false
                    Items: |-
                        =ForAll(Split(ThisItem.BRAND,";"), {Result: ThisRecord.Value})
                    OnSelect: =Select(Parent)
                    SearchFields: =["Result"]
                    SearchItems: =[]
                    Width: =rvs_btn_headerBrand_Prd.Width
                    X: =660
                    ZIndex: =3

                gal_dpd_product_Product As combobox:
                    DefaultSelectedItems: |-
                        =ForAll(Split(ThisItem.PRODUCT,";"), {Result: ThisRecord.Value})
                    DisplayFields: =["Result"]
                    DisplayMode: =DisplayMode.View
                    IsSearchable: =false
                    Items: |-
                        =ForAll(Split(ThisItem.PRODUCT,";"), {Result: ThisRecord.Value})
                    OnSelect: =Select(Parent)
                    SearchFields: =["Result"]
                    SearchItems: =[]
                    Width: =rvs_btn_headerProduct_Prd.Width
                    X: =880
                    Y: =1
                    ZIndex: =4

                gal_fig_separador_Product As rectangle:
                    Fill: =RGBA(201, 201, 201, 1)
                    Height: =1
                    OnSelect: =Select(Parent)
                    Width: =Parent.TemplateWidth
                    Y: =40
                    ZIndex: =5

                gal_fig_status_Product As circle:
                    DisplayMode: =DisplayMode.View
                    Fill: =If(ThisItem.STATUS = true,RGBA(101, 201, 135, 1),RGBA(227, 55, 44, 1))
                    Height: =15
                    OnSelect: =Select(Parent)
                    Width: =15
                    X: =1143
                    Y: =13
                    ZIndex: =6

                gal_img_edit_Product As image:
                    Height: =25
                    Image: =btnEdit
                    OnSelect: =Select(Parent)
                    Width: =25
                    X: =1236
                    Y: =9
                    ZIndex: =7

                gal_btn_edit_Product As button:
                    Fill: =Color.Transparent
                    Height: =25
                    HoverFill: =RGBA(56, 136, 210, 0.5)
                    OnSelect: |-
                        =UpdateContext({vsbLoadingNewRglProd:true});
                        Select(Parent);
                        //Obtenemos Catalogo LAB_PRODUCT completo
                        ClearCollect(
                            colLabProductCompleto,
                            Filter(LAB_PRODUCT,NumberProduct <=2000),
                            Filter(LAB_PRODUCT,NumberProduct > 2000 && NumberProduct <= 4000)
                            );
                        //Aplicamos Distinct SubCategory
                        ClearCollect(colCatSubcategory,ForAll(Distinct(colLabProductCompleto,SUBCATEGORY), {Result: ThisRecord.Value}));
                        
                        //__
                        Set(IdListRglProduct, ThisItem.ID);
                        Set(varRazonSocial,ThisItem.RAZONSOCIAL);
                        Set(varSubcategory,ThisItem.SUBCATEGORY);
                        Set(varBrand,ThisItem.BRAND);
                        Set(varProduct,ThisItem.PRODUCT);
                        Set(varProductID,ThisItem.PRODUCT_ID);
                        Set(varEstatus,ThisItem.STATUS);
                        //__ generar los datos seleccionados en los combox
                        Set(varListRazonSocial,Split(ThisItem.RAZONSOCIAL,";"));
                        Set(varListSubcategory,Split(ThisItem.SUBCATEGORY,";"));
                        Set(varListBrand,Split(ThisItem.BRAND,";"));
                        Set(varListProduct,Split(ThisItem.PRODUCT,";"));
                        
                        
                        UpdateContext({vsbEditRglProduct:true});
                        
                        UpdateContext({vsbLoadingNewRglProd:false});
                    PressedFill: =RGBA(56, 136, 210, 0.2)
                    Text: =""
                    Width: =25
                    X: =1236
                    Y: =9
                    ZIndex: =8

            rvs_btn_newProduct_Agregar_1 As button:
                Fill: =RGBA(107, 165, 231, 1)
                Font: =Font.Lato
                HoverFill: =ColorFade(RGBA(56, 136, 210, 1), -20%)
                OnSelect: |
                    =// Activamos componente loading
                    UpdateContext({vsbLoadingNewRglProd:true});
                    
                    Set(responseURL,'[CPC]_ExportarCSVs_RuleVolume'.Run(varEmail,1).response);
                    Download(responseURL);
                    
                    // Desactivamos componente loading
                    UpdateContext({vsbLoadingNewRglProd:false});
                PressedFill: =RGBA(56, 136, 210, 1)
                Text: ="Descargar"
                Visible: =vsbDtcProduct
                Width: =130
                X: =619
                Y: =319
                ZIndex: =2

        rvs_dtc_filtrosContainer As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =100
            Visible: =vsbDtcContainer
            Width: =1366
            X: =0
            Y: =6
            ZIndex: =7

            rvs_lbl_razonSocial_Container As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="Razón Social"
                Width: =400
                X: =164
                Y: =7
                ZIndex: =1

            rvs_dpd_razonSocial_Container As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: =Distinct(colContainerVlmRule,RAZONSOCIAL)
                OnChange: |
                    =// Reset al componente SubCategory
                    Reset(rvs_dpd_containerType);
                    // Generamos la lista Subcategory
                    Set(varConcatContainerType,Concat(Distinct(Filter(colContainerVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Container.Selected.Value),CONTAINER_TYPE),Value,";"))
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: =Search(Distinct(colContainerVlmRule,RAZONSOCIAL),rvs_dpd_razonSocial_Container.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =400
                X: =164
                Y: =48
                ZIndex: =2

            rvs_lbl_containerType As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="Container Type"
                Width: =250
                X: =592
                Y: =7
                ZIndex: =3

            rvs_dpd_containerType As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: |-
                    =Distinct(ForAll(Split(varConcatContainerType,";"), {Result: ThisRecord.Value}),Result)
                OnChange: |
                    =// Reset al componente Brand
                    Reset(rvs_dpd_container);
                    // Generamos la lista Brand
                    Set(varConcatContainer,Concat(Distinct(Search(Filter(colContainerVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Container.Selected.Value),rvs_dpd_containerType.Selected.Value,"CONTAINER_TYPE"),CONTAINER),Value,";"))
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: |-
                    =Search(Distinct(ForAll(Split(varConcatContainerType,";"), {Result: ThisRecord.Value}),Result),rvs_dpd_containerType.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =250
                X: =592
                Y: =48
                ZIndex: =4

            rvs_lbl_container As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="Container"
                Width: =250
                X: =870
                Y: =7
                ZIndex: =5

            rvs_dpd_container As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: |-
                    =Distinct(ForAll(Split(varConcatContainer,";"), {Result: ThisRecord.Value}),Result)
                OnChange: |+
                    =// Reset al componente Prodcut
                    //Reset(rvs_dpd_Product);
                    
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: |-
                    =Search(Distinct(ForAll(Split(varConcatContainer,";"), {Result: ThisRecord.Value}),Result),rvs_dpd_container.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =250
                X: =870
                Y: =48
                ZIndex: =6

            rvs_img_newReglaContainer As image:
                Height: =50
                Image: =add
                Visible: =If(varUserRol = "Administrador",true,false)
                Width: =50
                X: =1148
                Y: =38
                ZIndex: =7

            rvs_btn_newReglaContainer As button:
                Fill: =Color.Transparent
                Height: =50
                HoverFill: =RGBA(56, 136, 210, 0.5)
                OnSelect: |-
                    =// Iniciamos loading
                    UpdateContext({vsbLoadingNewRglProd:true});
                    //Obtenemos Catalogo LAB_PRODUCT completo
                    ClearCollect(
                        colLabContainerCompleto,
                        Filter(LAB_CONTAINER,NumberContainer <=2000),
                        Filter(LAB_CONTAINER,NumberContainer > 2000 && NumberContainer <= 4000)
                        );
                    //Aplicamos Distinct Conteainer Type
                    ClearCollect(colCatContainerType,ForAll(Distinct(colLabContainerCompleto,CONTAINER_TYPE), {Result: ThisRecord.Value}));
                    
                    UpdateContext({vsbNewRglContainer:true});
                    // Finalizamos loading
                    UpdateContext({vsbLoadingNewRglProd:false});
                PressedFill: =RGBA(56, 136, 210, 0.2)
                Text: =""
                Visible: =If(varUserRol = "Administrador",true,false)
                Width: =50
                X: =1148
                Y: =38
                ZIndex: =8

        rvs_dtc_lineContainer As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =30
            Visible: =vsbDtcContainer
            Width: =1366
            X: =0
            Y: =7
            ZIndex: =8

        rvs_dtc_headerContainer As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =40
            Visible: =vsbDtcContainer
            Width: =1366
            X: =0
            Y: =8
            ZIndex: =9

            rvs_btn_headerRazonSocial_Cnt As button:
                Align: =Align.Left
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="Razón Social"
                Width: =440
                X: =136
                ZIndex: =1

            rvs_btn_headerContainerType As button:
                Align: =Align.Left
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="Container Type"
                Width: =220
                X: =576
                ZIndex: =2

            rvs_btn_headerContainer As button:
                Align: =Align.Left
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="Container"
                Width: =220
                X: =796
                ZIndex: =3

            rvs_btn_headerStatus_Cnt As button:
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="Status"
                Width: =110
                X: =1016
                ZIndex: =4

            rvs_btn_headerEdit_Cnt As button:
                Color: =RGBA(71, 71, 71, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Text: =""
                Width: =110
                X: =1126
                ZIndex: =5

        rvs_dtc_dataReglaContainer As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =360
            Visible: =vsbDtcContainer
            Width: =1366
            X: =0
            Y: =9
            ZIndex: =10

            rvs_gal_dataReglasVlmContainer As gallery.galleryVertical:
                BorderColor: =RGBA(56, 136, 210, 1)
                BorderThickness: =1
                Fill: =RGBA(255, 255, 255, 1)
                Height: =300
                Items: =Search(Search(Filter(colContainerVlmRule,RAZONSOCIAL = rvs_dpd_razonSocial_Container.Selected.Value || rvs_dpd_razonSocial_Container.Selected.Value = Blank()),rvs_dpd_containerType.Selected.Value,"CONTAINER_TYPE"),rvs_dpd_container.Selected.Value,"CONTAINER")
                Layout: =Layout.Vertical
                TemplatePadding: =1
                TemplateSize: =40
                Width: =1100
                X: =136
                Y: =1
                ZIndex: =1

                gal_dpd_razonSocial_Container As label:
                    Color: =RGBA(65, 65, 65, 1)
                    Font: =Font.Lato
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.RAZONSOCIAL
                    Width: =rvs_btn_headerRazonSocial_Prd.Width
                    ZIndex: =1

                gal_dpd_containerType As combobox:
                    Color: =RGBA(65, 65, 65, 1)
                    DefaultSelectedItems: |-
                        =ForAll(Split(ThisItem.CONTAINER_TYPE, ";" ), {Result: ThisRecord.Value})
                    DisplayFields: =["Result"]
                    DisplayMode: =DisplayMode.View
                    Font: =Font.Lato
                    Items: |-
                        =ForAll(Split(ThisItem.CONTAINER_TYPE, ";" ), {Result: ThisRecord.Value})
                    OnSelect: =Select(Parent)
                    SearchFields: =["Result"]
                    SearchItems: |-
                        =Search(ForAll(Split(ThisItem.CONTAINER_TYPE, ";" ), {Result: ThisRecord.Value}),gal_dpd_containerType.SearchText,"Result")
                    Width: =rvs_btn_headerContainerType.Width
                    X: =440
                    ZIndex: =2

                gal_dpd_container As combobox:
                    DefaultSelectedItems: |-
                        =ForAll(Split(ThisItem.CONTAINER,";"), {Result: ThisRecord.Value})
                    DisplayFields: =["Result"]
                    DisplayMode: =DisplayMode.View
                    IsSearchable: =false
                    Items: |-
                        =ForAll(Split(ThisItem.CONTAINER,";"), {Result: ThisRecord.Value})
                    OnSelect: =Select(Parent)
                    SearchFields: =["Result"]
                    SearchItems: =[]
                    Width: =rvs_btn_headerContainer.Width
                    X: =660
                    ZIndex: =3

                gal_fig_separador_Container As rectangle:
                    Fill: =RGBA(201, 201, 201, 1)
                    Height: =1
                    OnSelect: =Select(Parent)
                    Width: =Parent.TemplateWidth
                    Y: =39
                    ZIndex: =5

                gal_fig_status_Container As circle:
                    DisplayMode: =DisplayMode.View
                    Fill: =If(ThisItem.STATUS = true,RGBA(101, 201, 135, 1),RGBA(227, 55, 44, 1))
                    Height: =15
                    OnSelect: =Select(Parent)
                    Width: =15
                    X: =926
                    Y: =13
                    ZIndex: =6

                gal_img_edit_Container As image:
                    Height: =25
                    Image: =btnEdit
                    OnSelect: =Select(Parent)
                    Width: =25
                    X: =1038
                    Y: =9
                    ZIndex: =7

                gal_btn_edit_Container As button:
                    Fill: =Color.Transparent
                    Height: =25
                    HoverFill: =RGBA(56, 136, 210, 0.5)
                    OnSelect: |-
                        =UpdateContext({vsbLoadingNewRglProd:true});
                        Select(Parent);
                        //Obtenemos Catalogo LAB_PRODUCT completo
                        ClearCollect(
                            colLabContainerCompleto,
                            Filter(LAB_CONTAINER,NumberContainer <=2000),
                            Filter(LAB_CONTAINER,NumberContainer > 2000 && NumberContainer <= 4000)
                            );
                        //Aplicamos Distinct SubCategory
                        ClearCollect(colCatContainerType,ForAll(Distinct(colLabContainerCompleto,CONTAINER_TYPE), {Result: ThisRecord.Value}));
                        
                        //__
                        Set(IdListRglContainer, ThisItem.ID);
                        Set(varRazonSocial,ThisItem.RAZONSOCIAL);
                        Set(varContainerType,ThisItem.CONTAINER_TYPE);
                        Set(varContainer,ThisItem.CONTAINER);
                        //Set(varContainerID,ThisItem.CONTAINER_ID);
                        Set(varEstatus,ThisItem.STATUS);
                        //__ generar los datos seleccionados en los combox
                        Set(varListRazonSocial,Split(ThisItem.RAZONSOCIAL,";"));
                        Set(varListContainerType,Split(ThisItem.CONTAINER_TYPE,";"));
                        Set(varListContainer,Split(ThisItem.CONTAINER,";"));
                        
                        
                        UpdateContext({vsbEditRglContainer:true});
                        
                        UpdateContext({vsbLoadingNewRglProd:false});
                    PressedFill: =RGBA(56, 136, 210, 0.2)
                    Text: =""
                    Width: =25
                    X: =1038
                    Y: =9
                    ZIndex: =8

            rvs_btn_newContainer_Desc As button:
                Fill: =RGBA(107, 165, 231, 1)
                Font: =Font.Lato
                HoverFill: =ColorFade(RGBA(56, 136, 210, 1), -20%)
                OnSelect: |
                    =// Activamos componente loading
                    UpdateContext({vsbLoadingNewRglProd:true});
                    
                    Set(responseURL,'[CPC]_ExportarCSVs_RuleVolume'.Run(varEmail,2).response);
                    Download(responseURL);
                    
                    // Desactivamos componente loading
                    UpdateContext({vsbLoadingNewRglProd:false});
                PressedFill: =RGBA(56, 136, 210, 1)
                Text: ="Descargar"
                Visible: =vsbDtcContainer
                Width: =130
                X: =635
                Y: =320
                ZIndex: =2

        rvs_dtc_filtrosMeses As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =100
            Visible: =vsbDtcMeses
            Width: =1366
            X: =0
            Y: =10
            ZIndex: =11

            rvs_lbl_razonSocial_Meses As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="Razón Social"
                Width: =400
                X: =166
                Y: =7
                ZIndex: =1

            rvs_dpd_razonSocial_Meses As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: =Distinct(colInnovationVlmRule,RAZONSOCIAL)
                OnChange: |
                    =// Reset al componente SubCategory
                    Reset(rvs_dpd_subcategory_Meses);
                    // Generamos la lista Subcategory
                    Set(varConcatSubcategoryInnova,Concat(Distinct(Filter(colInnovationVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Meses.Selected.Value),SUBCATEGORY),Value,";"))
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: =Search(Distinct(colInnovationVlmRule,RAZONSOCIAL),rvs_dpd_razonSocial_Meses.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =400
                X: =166
                Y: =47
                ZIndex: =2

            rvs_lbl_subCategory_Meses As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="SubCategory"
                Width: =250
                X: =594
                Y: =7
                ZIndex: =3

            rvs_dpd_subcategory_Meses As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: |-
                    =Distinct(ForAll(Split(varConcatSubcategoryInnova,";"), {Result: ThisRecord.Value}),Result)
                OnChange: |
                    =// Reset al componente Brand
                    Reset(rvs_dpd_brand_Meses);
                    // Generamos la lista Brand
                    Set(varConcatBrandInnova,Concat(Distinct(Search(Filter(colInnovationVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Meses.Selected.Value),rvs_dpd_subcategory_Meses.Selected.Value,"SUBCATEGORY"),BRAND),Value,";"))
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: |-
                    =Search(Distinct(ForAll(Split(varConcatSubcategoryInnova,";"), {Result: ThisRecord.Value}),Result),rvs_dpd_subcategory_Meses.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =250
                X: =594
                Y: =47
                ZIndex: =4

            rvs_lbl_brand_Meses As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="Brand"
                Width: =250
                X: =872
                Y: =7
                ZIndex: =5

            rvs_dpd_brand_Meses As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: |-
                    =Distinct(ForAll(Split(varConcatBrandInnova,";"), {Result: ThisRecord.Value}),Result)
                OnChange: |-
                    =/*
                    // Reset al componente Prodcut
                    Reset(rvs_dpd_Product);
                    // Generamos lista Product
                    Set(varConcatProduct,Concat(Distinct(Search(
                        Search(Filter(colProductVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Product.Selected.Value),rvs_dpd_subcategory_Meses.Selected.Value,"SUBCATEGORY0"),rvs_dpd_brand_Meses.Selected.Value,"BRAND0")
                        ,PRODUCT),Value,";"))
                    */
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: |-
                    =Search(Distinct(ForAll(Split(varConcatBrandInnova,";"), {Result: ThisRecord.Value}),Result),rvs_dpd_brand_Meses.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =250
                X: =872
                Y: =47
                ZIndex: =6

            rvs_img_newReglaInovacion As image:
                Height: =50
                Image: =add
                Visible: =If(varUserRol = "Administrador",true,false)
                Width: =50
                X: =1150
                Y: =37
                ZIndex: =7

            rvs_btn_newReglaInovacion As button:
                Fill: =Color.Transparent
                Height: =50
                HoverFill: =RGBA(56, 136, 210, 0.5)
                OnSelect: |-
                    =// Iniciamos loading
                    UpdateContext({vsbLoadingNewRglProd:true});
                    
                    //Obtenemos Catalogo LAB_PRODUCT completo
                    ClearCollect(
                        colLabProductCompleto,
                        Filter(LAB_PRODUCT,NumberProduct <=2000),
                        Filter(LAB_PRODUCT,NumberProduct > 2000 && NumberProduct <= 4000)
                        );
                    //Aplicamos Distinct SubCategory
                    ClearCollect(colCatSubcategory,ForAll(Distinct(colLabProductCompleto,SUBCATEGORY), {Result: ThisRecord.Value}));
                    
                    UpdateContext({vsbNewRglMeses:true});
                    // Finalizamos loading
                    UpdateContext({vsbLoadingNewRglProd:false});
                PressedFill: =RGBA(56, 136, 210, 0.2)
                Text: =""
                Visible: =If(varUserRol = "Administrador",true,false)
                Width: =50
                X: =1150
                Y: =37
                ZIndex: =8

        rvs_dtc_lineMeses As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =30
            Visible: =vsbDtcMeses
            Width: =1366
            X: =0
            Y: =11
            ZIndex: =12

        rvs_dtc_headerMeses As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =40
            Visible: =vsbDtcMeses
            Width: =1366
            X: =0
            Y: =12
            ZIndex: =13

            rvs_btn_headerRazonSocial_Mes As button:
                Align: =Align.Left
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="Razón Social"
                Width: =440
                X: =24
                ZIndex: =1

            rvs_btn_headerSubcategory_Mes As button:
                Align: =Align.Left
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="SubCategory"
                Width: =220
                X: =464
                ZIndex: =2

            rvs_btn_headerBrand_Mes As button:
                Align: =Align.Left
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="Brand"
                Width: =220
                X: =684
                ZIndex: =3

            rvs_btn_header3MesesVlm As button:
                Align: =Align.Left
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="3 Meses Volumen"
                Width: =220
                X: =904
                ZIndex: =4

            rvs_btn_headerStatus_Mes As button:
                Color: =RGBA(65, 65, 65, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =14
                Text: ="Status"
                Width: =110
                X: =1124
                ZIndex: =5

            rvs_btn_headerEdit_Mes As button:
                Color: =RGBA(71, 71, 71, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(196, 222, 251, 1)
                Font: =Font.Lato
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Text: =""
                Width: =110
                X: =1234
                ZIndex: =6

        rvs_dtc_dataReglaMeses As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =360
            Visible: =vsbDtcMeses
            Width: =1366
            X: =0
            Y: =13
            ZIndex: =14

        rvs_dtc_filtrosConversion As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =100
            Visible: =vsbDtcConver
            Width: =1366
            X: =0
            Y: =14
            ZIndex: =15

            rvs_lbl_razonSocial_Conver As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="Razón Social"
                Width: =400
                X: =166
                Y: =7
                ZIndex: =1

            rvs_dpd_razonSocial_Conver As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: =Distinct(colInnovationVlmRule,RAZONSOCIAL)
                OnChange: |
                    =// Reset al componente SubCategory
                    Reset(rvs_dpd_subcategory_Conver);
                    // Generamos la lista Subcategory
                    Set(varConcatSubcategoryInnova,Concat(Distinct(Filter(colInnovationVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Conver.Selected.Value),SUBCATEGORY),Value,";"))
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: =Search(Distinct(colInnovationVlmRule,RAZONSOCIAL),rvs_dpd_razonSocial_Conver.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =400
                X: =166
                Y: =47
                ZIndex: =2

            rvs_lbl_subCategory_Conver As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="SubCategory"
                Width: =250
                X: =594
                Y: =7
                ZIndex: =3

            rvs_dpd_subcategory_Conver As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: |-
                    =Distinct(ForAll(Split(varConcatSubcategoryInnova,";"), {Result: ThisRecord.Value}),Result)
                OnChange: |
                    =// Reset al componente Brand
                    Reset(rvs_dpd_brand_Conver);
                    // Generamos la lista Brand
                    Set(varConcatBrandInnova,Concat(Distinct(Search(Filter(colInnovationVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Conver.Selected.Value),rvs_dpd_subcategory_Conver.Selected.Value,"SUBCATEGORY"),BRAND),Value,";"))
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: |-
                    =Search(Distinct(ForAll(Split(varConcatSubcategoryInnova,";"), {Result: ThisRecord.Value}),Result),rvs_dpd_subcategory_Conver.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =250
                X: =594
                Y: =48
                ZIndex: =4

            rvs_lbl_brand_Conver As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                FontWeight: =FontWeight.Semibold
                Size: =14
                Text: ="Brand"
                Width: =250
                X: =872
                Y: =7
                ZIndex: =5

            rvs_dpd_brand_Conver As combobox:
                BorderColor: =RGBA(107, 165, 231, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(255, 255, 255, 1)
                ChevronFill: =RGBA(0, 18, 107, 1)
                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                ChevronHoverFill: =RGBA(0, 18, 107, 1)
                Color: =RGBA(65, 65, 65, 1)
                DisplayFields: =["Value"]
                Font: =Font.Lato
                HoverColor: =RGBA(65, 65, 65, 1)
                Items: |-
                    =Distinct(ForAll(Split(varConcatBrandInnova,";"), {Result: ThisRecord.Value}),Result)
                OnChange: |-
                    =/*
                    // Reset al componente Prodcut
                    Reset(rvs_dpd_Product);
                    // Generamos lista Product
                    Set(varConcatProduct,Concat(Distinct(Search(
                        Search(Filter(colProductVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Product.Selected.Value),rvs_dpd_subcategory_Meses.Selected.Value,"SUBCATEGORY0"),rvs_dpd_brand_Meses.Selected.Value,"BRAND0")
                        ,PRODUCT),Value,";"))
                    */
                PressedColor: =RGBA(65, 65, 65, 1)
                PressedFill: =RGBA(56, 136, 210, 1)
                SearchFields: =["Value"]
                SearchItems: |-
                    =Search(Distinct(ForAll(Split(varConcatBrandInnova,";"), {Result: ThisRecord.Value}),Result),rvs_dpd_brand_Conver.SearchText,"Value")
                SelectionFill: =RGBA(107, 165, 231, 1)
                SelectMultiple: =false
                Width: =250
                X: =872
                Y: =48
                ZIndex: =6

            rvs_img_newReglaConver As image:
                Height: =50
                Image: =add
                Visible: =If(varUserRol = "Administrador",true,false)
                Width: =50
                X: =1150
                Y: =37
                ZIndex: =7

            rvs_btn_newReglaConver As button:
                Fill: =Color.Transparent
                Height: =50
                HoverFill: =RGBA(56, 136, 210, 0.5)
                OnSelect: |-
                    =// Iniciamos loading
                    UpdateContext({vsbLoadingNewRglProd:true});
                    
                    //Obtenemos Catalogo LAB_PRODUCT completo
                    ClearCollect(
                        colLabProductCompleto,
                        Filter(LAB_PRODUCT,NumberProduct <=2000),
                        Filter(LAB_PRODUCT,NumberProduct > 2000 && NumberProduct <= 4000)
                        );
                    //Aplicamos Distinct SubCategory
                    ClearCollect(colCatSubcategory,ForAll(Distinct(colLabProductCompleto,SUBCATEGORY), {Result: ThisRecord.Value}));
                    
                    UpdateContext({vsbNewRglMeses:true});
                    // Finalizamos loading
                    UpdateContext({vsbLoadingNewRglProd:false});
                PressedFill: =RGBA(56, 136, 210, 0.2)
                Text: =""
                Visible: =If(varUserRol = "Administrador",true,false)
                Width: =50
                X: =1150
                Y: =37
                ZIndex: =8

        rvs_dtc_lineConver As dataCard.blankCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =30
            Width: =1366
            X: =0
            Y: =15
            ZIndex: =16

    rvs_cmp_headerPrincipal As HeaderPrincipal:
        ZIndex: =2

    rvs_icn_regresar As icon.Link:
        Color: =RGBA(255, 255, 255, 1)
        Height: =30
        Icon: =Icon.BackArrow
        OnSelect: |-
            =UpdateContext({vsbBtnContainer:true});
            UpdateContext({vsbBtnMeses:true});
            UpdateContext({vsbBtnProduct:true});
            UpdateContext({vsbBtnConversion:true});
            UpdateContext({vsbDtcProduct:false});
            UpdateContext({vsbDtcContainer:false});
            
            //_PRODUCT
            Reset(rvs_dpd_razonSocial_Product);
            Reset(rvs_dpd_subcategory_Product);
            Reset(rvs_dpd_brand_Product);
            Reset(rvs_dpd_Product);
            Set(varConcatSubcategory,Blank());
            Set(varConcatBrand,Blank());
            Set(varConcatProduct,Blank());
            
            // Contanier
            Reset(rvs_dpd_razonSocial_Container);
            Reset(rvs_dpd_containerType);
            Reset(rvs_dpd_container);
            Set(varConcatContainerType,Blank());
            Set(varConcatContainer,Blank());
            
            Navigate(Matematica_Screen,ScreenTransition.Cover);
        Width: =30
        X: =12
        Y: =15
        ZIndex: =3

    rvs_grp_msjOk As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =26

        rvs_fig_fondoAdd As rectangle:
            Fill: =RGBA(31, 95, 169, 0.5)
            Height: =768
            Visible: =vsbPopUpOk
            Width: =1366
            ZIndex: =34

        rvs_fig_subfondoAdd As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =284
            Visible: =vsbPopUpOk
            Width: =598
            X: =385
            Y: =192
            ZIndex: =35

        rvs_lbl_tituloAdd As label:
            Align: =Align.Center
            Color: =RGBA(65, 65, 65, 1)
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =45
            Text: =""
            Visible: =vsbPopUpOk
            Width: =598
            X: =385
            Y: =192
            ZIndex: =36

        rvs_lbl_msjAdd As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =56
            Text: ="Registro Guardado con Éxito"
            Visible: =vsbPopUpOk
            Width: =598
            X: =384
            Y: =371
            ZIndex: =37

        rvs_lbl_headerTituloAdd As label:
            Align: =Align.Center
            Color: =RGBA(71, 71, 71, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =42
            Text: =""
            Visible: =vsbPopUpOk
            Width: =599
            X: =384
            Y: =192
            ZIndex: =38

        rvs_icn_cerrarAdd As icon.ChevronDown:
            Color: =RGBA(65, 65, 65, 1)
            Height: =40
            Icon: =Icon.BackArrow
            OnSelect: |-
                =UpdateContext({vsbPopUpOk:false});
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            Visible: =vsbPopUpOk
            Width: =40
            X: =398
            Y: =194
            ZIndex: =39

        rvs_icn_okAdd As icon.Calculator:
            Color: =RGBA(56, 136, 210, 1)
            DisplayMode: =DisplayMode.View
            Icon: =Icon.CheckBadge
            Visible: =vsbPopUpOk
            X: =651
            Y: =285
            ZIndex: =40

    rvs_grp_editProduct As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =43

        rvs_fig_fondoEditProduct As rectangle:
            Fill: =RGBA(31, 95, 169, 0.5)
            Height: =768
            Visible: =vsbEditRglProduct
            Width: =1366
            ZIndex: =18

        rvs_fig_subfondoEditProduct As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(IsBlank(responseSave.response),465,541)
            Visible: =vsbEditRglProduct
            Width: =466
            X: =451
            Y: =155
            ZIndex: =19

        rvs_lbl_tituloEditProduct As label:
            Align: =Align.Center
            Color: =RGBA(71, 71, 71, 1)
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =50
            Size: =15
            Text: ="Editar Regla de Volumen"
            Visible: =vsbEditRglProduct
            Width: =466
            X: =451
            Y: =155
            ZIndex: =20

        rvs_lbl_editRazonSocial_Product As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Razón Social"
            Visible: =vsbEditRglProduct
            X: =609
            Y: =233
            ZIndex: =21

        rvs_dpd_editRazonSocial_Product As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(65, 65, 65, 1)
            DefaultSelectedItems: |-
                =Filter(
                    Filter(RazonSocial,Estatus = true),NombreRazonSocial = varRazonSocial)
            DisplayFields: =["NombreRazonSocial"]
            Font: =Font.Lato
            Height: =41
            HoverColor: =RGBA(65, 65, 65, 1)
            Items: =Filter(RazonSocial,Estatus = true)
            OnChange: |
                =// Reset al componente Brand
                Reset(rvs_dpd_brand_Product);
                // Generamos la lista Brand
                Set(varConcatBrand,Concat(Distinct(Search(Filter(colProductVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Product.Selected.Value),rvs_dpd_editRazonSocial_Product.Selected.Value,"SUBCATEGORY0"),BRAND),Value,";"))
            PressedColor: =RGBA(65, 65, 65, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["NombreRazonSocial"]
            SearchItems: =Search(Filter(RazonSocial,Estatus = true),rvs_dpd_editRazonSocial_Product.SearchText,"NombreRazonSocial")
            SelectionFill: =RGBA(107, 165, 231, 1)
            SelectMultiple: =false
            Visible: =vsbEditRglProduct
            Width: =437
            X: =465
            Y: =257
            ZIndex: =22

        rvs_lbl_editSubcategory_Product As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="SubCategory"
            Visible: =vsbEditRglProduct
            X: =609
            Y: =312
            ZIndex: =23

        rvs_dpd_editSubcategory_Product As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DefaultSelectedItems: |-
                =Filter(
                    ForAll(Distinct(colLabProductCompleto,SUBCATEGORY),{Value:ThisRecord.Value}),Value in ForAll(varListSubcategory,{Value:ThisRecord.Value}))
            DisplayFields: =["Value"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            IsSearchable: =false
            Items: |-
                =ForAll(Distinct(colLabProductCompleto,SUBCATEGORY),{Value:ThisRecord.Value})
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Value"]
            SearchItems: =[]
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbEditRglProduct
            Width: =438
            X: =465
            Y: =337
            ZIndex: =24

        rvs_lbl_editBrand_Product As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Brand"
            Visible: =vsbEditRglProduct
            X: =609
            Y: =391
            ZIndex: =25

        rvs_dpd_editBrand_Product As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DefaultSelectedItems: |-
                =Filter(
                    ForAll(Distinct(Filter(colLabProductCompleto,SUBCATEGORY in rvs_dpd_editSubcategory_Product.SelectedItems),BRAND), {Result: ThisRecord.Value}),Result in ForAll(varListBrand,{Value:ThisRecord.Value}))
            DisplayFields: =["Result"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            Items: |-
                =ForAll(Distinct(Filter(colLabProductCompleto,SUBCATEGORY in rvs_dpd_editSubcategory_Product.SelectedItems),BRAND), {Result: ThisRecord.Value})
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Result"]
            SearchItems: |-
                =Search(ForAll(Distinct(Filter(colLabProductCompleto,SUBCATEGORY in rvs_dpd_editSubcategory_Product.SelectedItems),BRAND), {Result: ThisRecord.Value}),rvs_dpd_editBrand_Product.SearchText,"Result")
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbEditRglProduct
            Width: =438
            X: =465
            Y: =416
            ZIndex: =26

        rvs_lbl_editProduct As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Product"
            Visible: =vsbEditRglProduct
            X: =609
            Y: =470
            ZIndex: =27

        rvs_dpd_editProduct As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DefaultSelectedItems: |-
                =Filter(
                    Filter(colLabProductCompleto,BRAND in rvs_dpd_editBrand_Product.SelectedItems),PRODUCT in ForAll(varListProduct,{Value:ThisRecord.Value}))
            DisplayFields: =["PRODUCT"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            Items: =Filter(colLabProductCompleto,BRAND in rvs_dpd_editBrand_Product.SelectedItems)
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["PRODUCT"]
            SearchItems: =Search(Filter(colLabProductCompleto,BRAND in rvs_dpd_editBrand_Product.SelectedItems),rvs_dpd_editProduct.SearchText,"PRODUCT")
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbEditRglProduct
            Width: =438
            X: =465
            Y: =495
            ZIndex: =28

        rvs_icn_editProduct_Cerrar As icon.CancelBadge:
            Color: =RGBA(71, 71, 71, 1)
            Height: =35
            Icon: =Icon.CancelBadge
            OnSelect: |-
                =// Realizamos Reset a los componentes
                Reset(rvs_dpd_editRazonSocial_Product);
                Reset(rvs_dpd_editSubcategory_Product);
                Reset(rvs_dpd_editBrand_Product);
                Reset(rvs_dpd_editProduct);
                Reset(rvs_tgg_editProduct);
                Set(responseSave,Blank());
                UpdateContext({vsbEditRglProduct:false});
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            Visible: =vsbEditRglProduct
            Width: =35
            X: =868
            Y: =162
            ZIndex: =29

        rvs_btn_editProduct_Agregar As button:
            Fill: =RGBA(107, 165, 231, 1)
            Font: =Font.Lato
            HoverFill: =ColorFade(RGBA(56, 136, 210, 1), -20%)
            OnSelect: |
                =// Activamos componente loading
                UpdateContext({vsbLoadingNewRglProd:true});
                Set(responseSave,Blank());
                //__ Validamos que no existan campos vacios
                If(IsBlank(rvs_dpd_editRazonSocial_Product.Selected) || IsEmpty(rvs_dpd_editRazonSocial_Product.Selected) || IsBlank(rvs_dpd_editSubcategory_Product.Selected) || IsEmpty(rvs_dpd_editSubcategory_Product.Selected) || IsBlank(rvs_dpd_editBrand_Product.Selected) || IsEmpty(rvs_dpd_editBrand_Product.Selected) || IsBlank(rvs_dpd_editProduct.Selected) || IsEmpty(rvs_dpd_editProduct.Selected),
                    Notify("Para continuar, es necesario ingresar los datos correspondientes",NotificationType.Warning,5000),
                //__ Guardamos en una colección los datos de la solicitud
                Clear(colReglaVolProduct);
                    Collect(
                    colReglaVolProduct,
                    {
                        EmailUser: varEmail,
                        GPID: varUserGPID,
                        NombreUser: varUserName,
                        FechaCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "dd/mm/yyyyy"),
                        HoraCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "HH:mm"),
                        RazonSocial:rvs_dpd_editRazonSocial_Product.Selected.NombreRazonSocial,
                        Subcategory: Concat(Sort(rvs_dpd_editSubcategory_Product.SelectedItems,Value,SortOrder.Ascending),Value,";"),
                        Brand: Concat(Sort(rvs_dpd_editBrand_Product.SelectedItems,Result,SortOrder.Ascending),Result,";"),
                        Product: Concat(Sort(rvs_dpd_editProduct.SelectedItems,PRODUCT,SortOrder.Ascending),PRODUCT,";"),
                        ProductID: Concat(rvs_dpd_editProduct.SelectedItems,PRODUCT_ID,";"),
                        Estatus: rvs_tgg_editProduct.Value,
                        IDList: IdListRglProduct,
                        RazonSocial_old: varRazonSocial,
                        Subcategory_old: varSubcategory,
                        Brand_old: varBrand,
                        Product_old: varProduct,
                        ProductID_old: varProductID,
                        Estatus_old: varEstatus,
                        Year_Solicitud: Value(Year(Now())),
                        IdMes: Month(Now())
                    }
                    );
                
                    //__ Invocamos el Flujo de Automate
                Set(varJSONRegla,JSON(colReglaVolProduct));
                Set(responseSave,'[CPC]_EditRuleVolumenProduct'.Run(varJSONRegla));
                Set(responseNewProd,responseSave.response);
                //__ Realizamos Clear a la coleccion de Solicitud
                If(responseNewProd = "Ok",
                    UpdateContext({vsbEditRglProduct:false});
                    Reset(rvs_dpd_editRazonSocial_Product);
                    Reset(rvs_dpd_editSubcategory_Product);
                    Reset(rvs_dpd_editBrand_Product);
                    Reset(rvs_dpd_editProduct);
                    Reset(rvs_tgg_editProduct);
                    UpdateContext({vsbPopUpOk:true});
                    Set(responseSave,Blank());
                    Refresh(ProductVolumeRule);
                // Obtenemos Catalogo Volumen Product completo
                ClearCollect(
                        colProductVlmRule,
                        Filter(ProductVolumeRule, IDRegla <= 2000),
                        Filter(ProductVolumeRule, IDRegla > 2000 && IDRegla <= 4000)
                );
                    );
                );
                
                // Desactivamos componente loading
                UpdateContext({vsbLoadingNewRglProd:false});
            PressedFill: =RGBA(56, 136, 210, 1)
            Text: ="Actualizar"
            Visible: =vsbEditRglProduct
            Width: =130
            X: =619
            Y: =564
            ZIndex: =30

        rvs_lbl_editMsj_Product As label:
            Align: =Align.Center
            Color: =RGBA(184, 0, 0, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =59
            Text: =responseSave.response
            Visible: =vsbEditRglProduct
            Width: =438
            X: =465
            Y: =619
            ZIndex: =31

        rvs_lbl_editProduct_1 As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =28
            Text: ="Estatus"
            Visible: =vsbEditRglProduct
            Width: =100
            X: =465
            Y: =548
            ZIndex: =32

        rvs_tgg_editProduct As toggleSwitch:
            BorderStyle: =BorderStyle.None
            Default: =varEstatus
            FalseFill: =RGBA(255, 0, 0, 1)
            Height: =35
            ShowLabel: =false
            TrueFill: =RGBA(54, 176, 75, 1)
            Visible: =vsbEditRglProduct
            Width: =50
            X: =490
            Y: =576
            ZIndex: =33

    rvs_grp_newProduct As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =43

        rvs_fig_fondoNewProduct As rectangle:
            Fill: =RGBA(31, 95, 169, 0.5)
            Height: =770
            Visible: =vsbNewRglProduct
            Width: =1366
            ZIndex: =4

        rvs_fig_subfondoNew_Product As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(IsBlank(responseSave.response),458,543)
            Visible: =vsbNewRglProduct
            Width: =466
            X: =450
            Y: =161
            ZIndex: =5

        rvs_lbl_tituloNewProduct As label:
            Align: =Align.Center
            Color: =RGBA(71, 71, 71, 1)
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =50
            Size: =15
            Text: ="Nueva Regla de Volumen"
            Visible: =vsbNewRglProduct
            Width: =466
            X: =450
            Y: =161
            ZIndex: =6

        rvs_lbl_newRazonSocial_Product As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Razón Social"
            Visible: =vsbNewRglProduct
            X: =608
            Y: =239
            ZIndex: =7

        rvs_dpd_newRazonSocial_Product As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(65, 65, 65, 1)
            DisplayFields: =["NombreRazonSocial"]
            Font: =Font.Lato
            Height: =39
            HoverColor: =RGBA(65, 65, 65, 1)
            Items: =Filter(RazonSocial,Estatus = true)
            OnChange: =
            PressedColor: =RGBA(65, 65, 65, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["NombreRazonSocial"]
            SearchItems: =Search(Filter(RazonSocial,Estatus = true),rvs_dpd_newRazonSocial_Product.SearchText,"NombreRazonSocial")
            SelectionFill: =RGBA(107, 165, 231, 1)
            SelectMultiple: =false
            Visible: =vsbNewRglProduct
            Width: =438
            X: =464
            Y: =265
            ZIndex: =8

        rvs_lbl_newSubcategory_Product As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="SubCategory"
            Visible: =vsbNewRglProduct
            X: =608
            Y: =318
            ZIndex: =9

        rvs_dpd_newSubcategory_Product As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DisplayFields: =["Result"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            Items: =colCatSubcategory
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Result"]
            SearchItems: =Search(colCatSubcategory,rvs_dpd_newSubcategory_Product.SearchText,"Result")
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbNewRglProduct
            Width: =438
            X: =464
            Y: =343
            ZIndex: =10

        rvs_lbl_newBrand_Product As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Brand"
            Visible: =vsbNewRglProduct
            X: =608
            Y: =397
            ZIndex: =11

        rvs_dpd_newBrand_Product As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DisplayFields: =["Result"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            Items: |-
                =ForAll(Distinct(Filter(colLabProductCompleto,SUBCATEGORY in rvs_dpd_newSubcategory_Product.SelectedItems),BRAND), {Result: ThisRecord.Value})
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Result"]
            SearchItems: |-
                =Search(ForAll(Distinct(Filter(colLabProductCompleto,SUBCATEGORY in rvs_dpd_newSubcategory_Product.SelectedItems),BRAND), {Result: ThisRecord.Value}),rvs_dpd_newBrand_Product.SearchText,"Result")
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbNewRglProduct
            Width: =438
            X: =464
            Y: =422
            ZIndex: =12

        rvs_lbl_newProduct As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Product"
            Visible: =vsbNewRglProduct
            X: =608
            Y: =476
            ZIndex: =13

        rvs_dpd_newProduct As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DisplayFields: =["PRODUCT"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            Items: =Filter(colLabProductCompleto,BRAND in rvs_dpd_newBrand_Product.SelectedItems)
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["PRODUCT"]
            SearchItems: =Search(Filter(colLabProductCompleto,BRAND in rvs_dpd_newBrand_Product.SelectedItems),rvs_dpd_newProduct.SearchText,"PRODUCT")
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbNewRglProduct
            Width: =438
            X: =464
            Y: =501
            ZIndex: =14

        rvs_icn_newProduct_Cerrar As icon.CancelBadge:
            Color: =RGBA(71, 71, 71, 1)
            Height: =35
            Icon: =Icon.CancelBadge
            OnSelect: |-
                =// Realizamos Reset a los componentes
                Reset(rvs_dpd_newRazonSocial_Product);
                Reset(rvs_dpd_newSubcategory_Product);
                Reset(rvs_dpd_newBrand_Product);
                Reset(rvs_dpd_newProduct);
                Set(responseSave,Blank());
                UpdateContext({vsbNewRglProduct:false});
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            Visible: =vsbNewRglProduct
            Width: =35
            X: =867
            Y: =168
            ZIndex: =15

        rvs_btn_newProduct_Agregar As button:
            Fill: =RGBA(107, 165, 231, 1)
            Font: =Font.Lato
            HoverFill: =ColorFade(RGBA(56, 136, 210, 1), -20%)
            OnSelect: |
                =// Activamos componente loading
                UpdateContext({vsbLoadingNewRglProd:true});
                Set(responseSave,Blank());
                //__ Validamos que no existan campos vacios
                If(IsBlank(rvs_dpd_newRazonSocial_Product.Selected) || IsEmpty(rvs_dpd_newRazonSocial_Product.Selected) || IsBlank(rvs_dpd_newSubcategory_Product.Selected) || IsEmpty(rvs_dpd_newSubcategory_Product.Selected) || IsBlank(rvs_dpd_newBrand_Product.Selected) || IsEmpty(rvs_dpd_newBrand_Product.Selected) || IsBlank(rvs_dpd_newProduct.Selected) || IsEmpty(rvs_dpd_newProduct.Selected),
                    Notify("Para continuar, es necesario ingresar los datos correspondientes",NotificationType.Warning,5000),
                //__ Guardamos en una colección los datos de la solicitud
                Clear(colReglaVolProduct);
                    Collect(
                    colReglaVolProduct,
                    {
                        EmailUser: varEmail,
                        GPID: varUserGPID,
                        NombreUser: varUserName,
                        FechaCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "dd/mm/yyyyy"),
                        HoraCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "HH:mm"),
                        RazonSocial:rvs_dpd_newRazonSocial_Product.Selected.NombreRazonSocial,
                        Subcategory: Concat(Sort(rvs_dpd_newSubcategory_Product.SelectedItems,Result,SortOrder.Ascending),Result,";"),
                        Brand: Concat(Sort(rvs_dpd_newBrand_Product.SelectedItems,Result,SortOrder.Ascending),Result,";"),
                        Product: Concat(Sort(rvs_dpd_newProduct.SelectedItems,PRODUCT,SortOrder.Ascending),PRODUCT,";"),
                        ProductID: Concat(rvs_dpd_newProduct.SelectedItems,PRODUCT_ID,";"),
                        Year_Solicitud: Value(Year(Now())),
                        IdMes: Month(Now())
                    }
                    );
                
                    //__ Invocamos el Flujo de Automate
                Set(varJSONRegla,JSON(colReglaVolProduct));
                Set(responseSave,'[CPC]_SaveRuleVolumenProduct'.Run(varJSONRegla));
                Set(responseNewProd,responseSave.response);
                //__ Realizamos Clear a la coleccion de Solicitud
                If(responseNewProd = "Ok",
                    UpdateContext({vsbNewRglProduct:false});
                    Reset(rvs_dpd_newRazonSocial_Product);
                    Reset(rvs_dpd_newSubcategory_Product);
                    Reset(rvs_dpd_newBrand_Product);
                    Reset(rvs_dpd_newProduct);
                    Refresh(JerarquiaGeografica);
                    UpdateContext({vsbPopUpOk:true});
                    Set(responseSave,Blank());
                    Refresh(ProductVolumeRule);
                // Obtenemos Catalogo Volumen Product completo
                ClearCollect(
                        colProductVlmRule,
                        Filter(ProductVolumeRule, IDRegla <= 2000),
                        Filter(ProductVolumeRule, IDRegla > 2000 && IDRegla <= 4000)
                );
                    );
                );
                
                // Desactivamos componente loading
                UpdateContext({vsbLoadingNewRglProd:false});
            PressedFill: =RGBA(56, 136, 210, 1)
            Text: ="Agregar"
            Visible: =vsbNewRglProduct
            Width: =130
            X: =618
            Y: =557
            ZIndex: =16

        rvs_lbl_newMsj_Product As label:
            Align: =Align.Center
            Color: =RGBA(184, 0, 0, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =59
            Text: =responseSave.response
            Visible: =vsbNewRglProduct
            Width: =438
            X: =464
            Y: =620
            ZIndex: =17

    rvs_grp_newContainer As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =56

        rvs_fig_fondoNewContainer As rectangle:
            Fill: =RGBA(31, 95, 169, 0.5)
            Height: =768
            Visible: =vsbNewRglContainer
            Width: =1366
            ZIndex: =41

        rvs_fig_subfondoNewContainer As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(IsBlank(responseSave.response),458,543)
            Visible: =vsbNewRglContainer
            Width: =466
            X: =450
            Y: =161
            ZIndex: =42

        rvs_lbl_tituloNewContainer As label:
            Align: =Align.Center
            Color: =RGBA(71, 71, 71, 1)
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =50
            Size: =15
            Text: ="Nueva Regla de Volumen"
            Visible: =vsbNewRglContainer
            Width: =466
            X: =450
            Y: =161
            ZIndex: =43

        rvs_lbl_newRazonSocial_Container As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Razón Social"
            Visible: =vsbNewRglContainer
            X: =608
            Y: =239
            ZIndex: =44

        rvs_dpd_newRazonSocial_Container As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(65, 65, 65, 1)
            DisplayFields: =["NombreRazonSocial"]
            Font: =Font.Lato
            Height: =39
            HoverColor: =RGBA(65, 65, 65, 1)
            Items: =Filter(RazonSocial,Estatus = true)
            OnChange: =
            PressedColor: =RGBA(65, 65, 65, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["NombreRazonSocial"]
            SearchItems: =Search(Filter(RazonSocial,Estatus = true),rvs_dpd_newRazonSocial_Container.SearchText,"NombreRazonSocial")
            SelectionFill: =RGBA(107, 165, 231, 1)
            SelectMultiple: =false
            Visible: =vsbNewRglContainer
            Width: =438
            X: =464
            Y: =265
            ZIndex: =45

        rvs_lbl_newContainerType As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Container Type"
            Visible: =vsbNewRglContainer
            X: =608
            Y: =318
            ZIndex: =46

        rvs_dpd_newContainerType As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DisplayFields: =["Result"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            Items: =colCatContainerType
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Result"]
            SearchItems: =Search(colCatContainerType,rvs_dpd_newContainerType.SearchText,"Result")
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbNewRglContainer
            Width: =438
            X: =464
            Y: =343
            ZIndex: =47

        rvs_lbl_newContainer As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Container"
            Visible: =vsbNewRglContainer
            X: =608
            Y: =397
            ZIndex: =48

        rvs_dpd_newContainer As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DisplayFields: =["Value"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            Items: =Distinct(Filter(colLabContainerCompleto,CONTAINER_TYPE in rvs_dpd_newContainerType.SelectedItems),CONTAINER)
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Value"]
            SearchItems: =Search(Distinct(Filter(colLabContainerCompleto,CONTAINER_TYPE in rvs_dpd_newContainerType.SelectedItems),CONTAINER),rvs_dpd_newContainer.SearchText,"Value")
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbNewRglContainer
            Width: =438
            X: =464
            Y: =422
            ZIndex: =49

        rvs_icn_newContainer_cerrar As icon.CancelBadge:
            Color: =RGBA(71, 71, 71, 1)
            Height: =35
            Icon: =Icon.CancelBadge
            OnSelect: |-
                =// Realizamos Reset a los componentes
                Reset(rvs_dpd_newRazonSocial_Container);
                Reset(rvs_dpd_newContainerType);
                Reset(rvs_dpd_newContainer);
                Set(responseSave,Blank());
                UpdateContext({vsbNewRglContainer:false});
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            Visible: =vsbNewRglContainer
            Width: =35
            X: =867
            Y: =168
            ZIndex: =50

        rvs_btn_newContainer_agregar As button:
            Fill: =RGBA(107, 165, 231, 1)
            Font: =Font.Lato
            HoverFill: =ColorFade(RGBA(56, 136, 210, 1), -20%)
            OnSelect: |
                =// Activamos componente loading
                UpdateContext({vsbLoadingNewRglProd:true});
                Set(responseSave,Blank());
                //__ Validamos que no existan campos vacios
                If(IsBlank(rvs_dpd_newRazonSocial_Container.Selected) || IsEmpty(rvs_dpd_newRazonSocial_Container.Selected) || IsBlank(rvs_dpd_newContainerType.Selected) || IsEmpty(rvs_dpd_newContainerType.Selected) || IsBlank(rvs_dpd_newContainer.Selected) || IsEmpty(rvs_dpd_newContainer.Selected),
                    Notify("Para continuar, es necesario ingresar los datos correspondientes",NotificationType.Warning,5000),
                //__ Guardamos en una colección los datos de la solicitud
                Clear(colReglaVolContainer);
                    Collect(
                    colReglaVolContainer,
                    {
                        EmailUser: varEmail,
                        GPID: varUserGPID,
                        NombreUser: varUserName,
                        FechaCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "dd/mm/yyyyy"),
                        HoraCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "HH:mm"),
                        RazonSocial:rvs_dpd_newRazonSocial_Container.Selected.NombreRazonSocial,
                        ContainerType: Concat(Sort(rvs_dpd_newContainerType.SelectedItems,Result,SortOrder.Ascending),Result,";"),
                        Container: Concat(Sort(rvs_dpd_newContainer.SelectedItems,Value,SortOrder.Ascending),Value,";"),
                        //ContainerID: Concat(rvs_dpd_newContainer.SelectedItems,CONTAINER_ID,";"),
                        Year_Solicitud: Value(Year(Now())),
                        IdMes: Month(Now())
                    }
                    );
                
                    //__ Invocamos el Flujo de Automate
                Set(varJSONRegla,JSON(colReglaVolContainer));
                Set(responseSave,'[CPC]_SaveRuleVolumenContainer'.Run(varJSONRegla));
                Set(responseNewProd,responseSave.response);
                //__ Realizamos Clear a la coleccion de Solicitud
                If(responseNewProd = "Ok",
                    UpdateContext({vsbNewRglContainer:false});
                    Reset(rvs_dpd_newRazonSocial_Container);
                    Reset(rvs_dpd_newContainerType);
                    Reset(rvs_dpd_newContainer);
                    UpdateContext({vsbPopUpOk:true});
                    Set(responseSave,Blank());
                    Refresh(ContainerVolumeRule);
                // Obtenemos Catalogo Volumen Container completo
                ClearCollect(
                        colContainerVlmRule,
                        Filter(ContainerVolumeRule, IDRegla <= 2000),
                        Filter(ContainerVolumeRule, IDRegla > 2000 && IDRegla <= 4000)
                );
                    );
                );
                
                // Desactivamos componente loading
                UpdateContext({vsbLoadingNewRglProd:false});
            PressedFill: =RGBA(56, 136, 210, 1)
            Text: ="Agregar"
            Visible: =vsbNewRglContainer
            Width: =130
            X: =618
            Y: =557
            ZIndex: =51

        rvs_lbl_newMsj_Container As label:
            Align: =Align.Center
            Color: =RGBA(184, 0, 0, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =59
            Text: =responseSave.response
            Visible: =vsbNewRglContainer
            Width: =438
            X: =464
            Y: =620
            ZIndex: =52

    rvs_grp_editContainer As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =72

        rvs_fig_fondoEditContainer As rectangle:
            Fill: =RGBA(31, 95, 169, 0.5)
            Height: =768
            Visible: =vsbEditRglContainer
            Width: =1366
            ZIndex: =53

        rvs_fig_subfondoEditContainer As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(IsBlank(responseSave.response),400,465)
            Visible: =vsbEditRglContainer
            Width: =466
            X: =451
            Y: =155
            ZIndex: =54

        rvs_lbl_tituloEditContainer As label:
            Align: =Align.Center
            Color: =RGBA(71, 71, 71, 1)
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =50
            Size: =15
            Text: ="Editar Regla de Volumen"
            Visible: =vsbEditRglContainer
            Width: =466
            X: =451
            Y: =155
            ZIndex: =55

        rvs_lbl_editRazonSocial_Container As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Razón Social"
            Visible: =vsbEditRglContainer
            X: =609
            Y: =233
            ZIndex: =56

        rvs_dpd_editRazonSocial_Container As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(65, 65, 65, 1)
            DefaultSelectedItems: |-
                =Filter(
                    Filter(RazonSocial,Estatus = true),NombreRazonSocial = varRazonSocial)
            DisplayFields: =["NombreRazonSocial"]
            Font: =Font.Lato
            Height: =41
            HoverColor: =RGBA(65, 65, 65, 1)
            Items: =Filter(RazonSocial,Estatus = true)
            OnChange: |
                =// Reset al componente Brand
                Reset(rvs_dpd_brand_Product);
                // Generamos la lista Brand
                Set(varConcatBrand,Concat(Distinct(Search(Filter(colProductVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Product.Selected.Value),rvs_dpd_editRazonSocial_Container.Selected.Value,"SUBCATEGORY0"),BRAND),Value,";"))
            PressedColor: =RGBA(65, 65, 65, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["NombreRazonSocial"]
            SearchItems: =Search(Filter(RazonSocial,Estatus = true),rvs_dpd_editRazonSocial_Container.SearchText,"NombreRazonSocial")
            SelectionFill: =RGBA(107, 165, 231, 1)
            SelectMultiple: =false
            Visible: =vsbEditRglContainer
            Width: =437
            X: =465
            Y: =257
            ZIndex: =57

        rvs_lbl_editContainerType As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Container Type"
            Visible: =vsbEditRglContainer
            X: =609
            Y: =312
            ZIndex: =58

        rvs_dpd_editContainerType As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DefaultSelectedItems: |-
                =Filter(
                    Filter(
                        ForAll(Distinct(colLabContainerCompleto,CONTAINER_TYPE),{Value:ThisRecord.Value}),Value in ForAll(varListContainerType,{Value:ThisRecord.Value})),Value in ForAll(varListContainerType,{Value:ThisRecord.Value}))
            DisplayFields: =["Value"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            IsSearchable: =false
            Items: |-
                =ForAll(Distinct(colLabContainerCompleto,CONTAINER_TYPE),{Value:ThisRecord.Value})
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Value"]
            SearchItems: =[]
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbEditRglContainer
            Width: =438
            X: =465
            Y: =337
            ZIndex: =59

        rvs_lbl_editContainer As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Container"
            Visible: =vsbEditRglContainer
            X: =609
            Y: =391
            ZIndex: =60

        rvs_dpd_editContainer As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DefaultSelectedItems: |-
                =Distinct(
                    Filter(
                        Filter(colLabContainerCompleto,CONTAINER_TYPE in rvs_dpd_editContainerType.SelectedItems),CONTAINER in ForAll(varListContainer,{Value:ThisRecord.Value})),CONTAINER)
            DisplayFields: =["Value"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            Items: =Distinct(Filter(colLabContainerCompleto,CONTAINER_TYPE in rvs_dpd_editContainerType.SelectedItems),CONTAINER)
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Value"]
            SearchItems: =Search(Distinct(Filter(colLabContainerCompleto,CONTAINER_TYPE in rvs_dpd_editContainerType.SelectedItems),CONTAINER),rvs_dpd_editContainer.SearchText,"Value")
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbEditRglContainer
            Width: =438
            X: =465
            Y: =416
            ZIndex: =61

        rvs_icn_editContainer_Cerrar As icon.CancelBadge:
            Color: =RGBA(71, 71, 71, 1)
            Height: =35
            Icon: =Icon.CancelBadge
            OnSelect: |-
                =// Realizamos Reset a los componentes
                Reset(rvs_dpd_editRazonSocial_Container);
                Reset(rvs_dpd_editContainerType);
                Reset(rvs_dpd_editContainer);
                Reset(rvs_tgg_editContainer);
                Set(responseSave,Blank());
                UpdateContext({vsbEditRglContainer:false});
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            Visible: =vsbEditRglContainer
            Width: =35
            X: =868
            Y: =162
            ZIndex: =62

        rvs_btn_editContainer_Actualizar As button:
            Fill: =RGBA(107, 165, 231, 1)
            Font: =Font.Lato
            HoverFill: =ColorFade(RGBA(56, 136, 210, 1), -20%)
            OnSelect: |
                =// Activamos componente loading
                UpdateContext({vsbLoadingNewRglProd:true});
                Set(responseSave,Blank());
                //__ Validamos que no existan campos vacios
                If(IsBlank(rvs_dpd_editRazonSocial_Container.Selected) || IsEmpty(rvs_dpd_editRazonSocial_Container.Selected) || IsBlank(rvs_dpd_editContainerType.Selected) || IsEmpty(rvs_dpd_editContainerType.Selected) || IsBlank(rvs_dpd_editContainer.Selected) || IsEmpty(rvs_dpd_editContainer.Selected),
                    Notify("Para continuar, es necesario ingresar los datos correspondientes",NotificationType.Warning,5000),
                //__ Guardamos en una colección los datos de la solicitud
                Clear(colReglaVolProduct);
                    Collect(
                    colReglaVolProduct,
                    {
                        EmailUser: varEmail,
                        GPID: varUserGPID,
                        NombreUser: varUserName,
                        FechaCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "dd/mm/yyyyy"),
                        HoraCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "HH:mm"),
                        RazonSocial:rvs_dpd_editRazonSocial_Container.Selected.NombreRazonSocial,
                        ContainerType: Concat(Sort(rvs_dpd_editContainerType.SelectedItems,Value,SortOrder.Ascending),Value,";"),
                        Container: Concat(Sort(rvs_dpd_editContainer.SelectedItems,Value,SortOrder.Ascending),Value,";"),
                        //ContainerID: Concat(rvs_dpd_editContainer.SelectedItems,CONTAINER_ID,";"),
                        Estatus: rvs_tgg_editContainer.Value,
                        IDList: IdListRglContainer,
                        RazonSocial_old: varRazonSocial,
                        ContainerType_old: varContainerType,
                        Container_old: varContainer,
                        //ContainerID_old: varContainerID,
                        Estatus_old: varEstatus,
                        Year_Solicitud: Value(Year(Now())),
                        IdMes: Month(Now())
                    }
                    );
                
                    //__ Invocamos el Flujo de Automate
                Set(varJSONRegla,JSON(colReglaVolProduct));
                Set(responseSave,'[CPC]_EditRuleVolumenContainer'.Run(varJSONRegla));
                Set(responseNewProd,responseSave.response);
                //__ Realizamos Clear a la coleccion de Solicitud
                If(responseNewProd = "Ok",
                    UpdateContext({vsbEditRglContainer:false});
                    Reset(rvs_dpd_editRazonSocial_Container);
                    Reset(rvs_dpd_editContainerType);
                    Reset(rvs_dpd_editContainer);
                    Reset(rvs_tgg_editContainer);
                    UpdateContext({vsbPopUpOk:true});
                    Set(responseSave,Blank());
                    Refresh(ContainerVolumeRule);
                // Obtenemos Catalogo Volumen Product completo
                ClearCollect(
                        colContainerVlmRule,
                        Filter(ContainerVolumeRule, IDRegla <= 2000),
                        Filter(ContainerVolumeRule, IDRegla > 2000 && IDRegla <= 4000)
                );
                    );
                );
                
                // Desactivamos componente loading
                UpdateContext({vsbLoadingNewRglProd:false});
            PressedFill: =RGBA(56, 136, 210, 1)
            Text: ="Actualizar"
            Visible: =vsbEditRglContainer
            Width: =130
            X: =619
            Y: =494
            ZIndex: =63

        rvs_lbl_editMsj_Container As label:
            Align: =Align.Center
            Color: =RGBA(184, 0, 0, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =59
            Text: =responseSave.response
            Visible: =vsbEditRglContainer
            Width: =438
            X: =465
            Y: =549
            ZIndex: =64

        rvs_lbl_ediStatus_Container As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =28
            Text: ="Estatus"
            Visible: =vsbEditRglContainer
            Width: =100
            X: =465
            Y: =478
            ZIndex: =65

        rvs_tgg_editContainer As toggleSwitch:
            BorderStyle: =BorderStyle.None
            Default: =varEstatus
            FalseFill: =RGBA(255, 0, 0, 1)
            Height: =35
            ShowLabel: =false
            TrueFill: =RGBA(54, 176, 75, 1)
            Visible: =vsbEditRglContainer
            Width: =50
            X: =490
            Y: =506
            ZIndex: =66

    rvs_grp_newMeses As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =81

        rvs_fig_fondoNewMeses As rectangle:
            Fill: =RGBA(31, 95, 169, 0.5)
            Height: =768
            Visible: =vsbNewRglMeses
            Width: =1366
            ZIndex: =67

        rvs_fig_subfondoNewMeses As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(IsBlank(responseSave.response),475,562)
            Visible: =vsbNewRglMeses
            Width: =466
            X: =450
            Y: =161
            ZIndex: =68

        rvs_lbl_tituloNewMeses As label:
            Align: =Align.Center
            Color: =RGBA(71, 71, 71, 1)
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =50
            Size: =15
            Text: ="Nueva Regla de Volumen"
            Visible: =vsbNewRglMeses
            Width: =466
            X: =450
            Y: =161
            ZIndex: =69

        rvs_lbl_newRazonSocial_Meses As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Razón Social"
            Visible: =vsbNewRglMeses
            X: =608
            Y: =239
            ZIndex: =70

        rvs_dpd_newRazonSocial_Meses As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(65, 65, 65, 1)
            DisplayFields: =["NombreRazonSocial"]
            Font: =Font.Lato
            Height: =39
            HoverColor: =RGBA(65, 65, 65, 1)
            Items: =Filter(RazonSocial,Estatus = true)
            OnChange: =
            PressedColor: =RGBA(65, 65, 65, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["NombreRazonSocial"]
            SearchItems: =Search(Filter(RazonSocial,Estatus = true),rvs_dpd_newRazonSocial_Meses.SearchText,"NombreRazonSocial")
            SelectionFill: =RGBA(107, 165, 231, 1)
            SelectMultiple: =false
            Visible: =vsbNewRglMeses
            Width: =438
            X: =464
            Y: =265
            ZIndex: =71

        rvs_lbl_newSubcategory_Meses As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="SubCategory"
            Visible: =vsbNewRglMeses
            X: =609
            Y: =318
            ZIndex: =72

        rvs_dpd_newSubcategory_Meses As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(65, 65, 65, 1)
            DisplayFields: =["Result"]
            Font: =Font.Lato
            Height: =39
            HoverColor: =RGBA(65, 65, 65, 1)
            Items: =colCatSubcategory
            OnChange: =
            PressedColor: =RGBA(65, 65, 65, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Result"]
            SearchItems: =Search(colCatSubcategory,rvs_dpd_newSubcategory_Meses.SearchText,"Result")
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbNewRglMeses
            Width: =438
            X: =465
            Y: =344
            ZIndex: =73

        rvs_lbl_newRazonBrand_Meses As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Brand"
            Visible: =vsbNewRglMeses
            X: =609
            Y: =397
            ZIndex: =74

        rvs_dpd_newBrand_Meses As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(65, 65, 65, 1)
            DisplayFields: =["Result"]
            Font: =Font.Lato
            Height: =39
            HoverColor: =RGBA(65, 65, 65, 1)
            Items: |-
                =ForAll(Distinct(Filter(colLabProductCompleto,SUBCATEGORY in rvs_dpd_newSubcategory_Meses.SelectedItems),BRAND), {Result: ThisRecord.Value})
            OnChange: =
            PressedColor: =RGBA(65, 65, 65, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Result"]
            SearchItems: |-
                =Search(ForAll(Distinct(Filter(colLabProductCompleto,SUBCATEGORY in rvs_dpd_newSubcategory_Meses.SelectedItems),BRAND), {Result: ThisRecord.Value}),rvs_dpd_newBrand_Meses.SearchText,"Result")
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbNewRglMeses
            Width: =438
            X: =465
            Y: =423
            ZIndex: =75

        rvs_cbx_3MesesRegla As checkbox:
            BorderStyle: =BorderStyle.None
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Text: ="3 Meses de Volumen"
            Visible: =vsbNewRglMeses
            Width: =233
            X: =565
            Y: =486
            ZIndex: =76

        rvs_icn_newMeses_cerrar As icon.CancelBadge:
            Color: =RGBA(71, 71, 71, 1)
            Height: =35
            Icon: =Icon.CancelBadge
            OnSelect: |-
                =// Realizamos Reset a los componentes
                Reset(rvs_dpd_newRazonSocial_Meses);
                Reset(rvs_dpd_newSubcategory_Meses);
                Reset(rvs_dpd_newBrand_Meses);
                Reset(rvs_cbx_3MesesRegla);
                Set(responseSave,Blank());
                UpdateContext({vsbNewRglMeses:false});
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            Visible: =vsbNewRglMeses
            Width: =35
            X: =867
            Y: =168
            ZIndex: =77

        rvs_btn_newMeses_agregar As button:
            Fill: =RGBA(107, 165, 231, 1)
            Font: =Font.Lato
            HoverFill: =ColorFade(RGBA(56, 136, 210, 1), -20%)
            OnSelect: |
                =// Activamos componente loading
                UpdateContext({vsbLoadingNewRglProd:true});
                Set(responseSave,Blank());
                //__ Validamos que no existan campos vacios
                If(IsBlank(rvs_dpd_newRazonSocial_Meses.Selected) || IsEmpty(rvs_dpd_newRazonSocial_Meses.Selected) || IsBlank(rvs_dpd_newSubcategory_Meses.Selected) || IsEmpty(rvs_dpd_newSubcategory_Meses.Selected) || IsBlank(rvs_dpd_newBrand_Meses.Selected),
                    Notify("Para continuar, es necesario ingresar los datos correspondientes",NotificationType.Warning,5000),
                //__ Guardamos en una colección los datos de la solicitud
                Clear(colReglaVolInnovacion);
                    Collect(
                    colReglaVolInnovacion,
                    {
                        EmailUser: varEmail,
                        GPID: varUserGPID,
                        NombreUser: varUserName,
                        FechaCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "dd/mm/yyyyy"),
                        HoraCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "HH:mm"),
                        RazonSocial:rvs_dpd_newRazonSocial_Meses.Selected.NombreRazonSocial,
                        Subcategory: Concat(Sort(rvs_dpd_newSubcategory_Meses.SelectedItems,Result,SortOrder.Ascending),Result,";"),
                        Brand: Concat(Sort(rvs_dpd_newBrand_Meses.SelectedItems,Result,SortOrder.Ascending),Result,";"),
                        ReglaMesesVlm: rvs_cbx_3MesesRegla.Value,
                        Year_Solicitud: Value(Year(Now())),
                        IdMes: Month(Now())
                    }
                    );
                
                    //__ Invocamos el Flujo de Automate
                Set(varJSONRegla,JSON(colReglaVolInnovacion));
                Set(responseSave,'[CPC]_SaveRuleVolumenInnovation'.Run(varJSONRegla));
                Set(responseNewProd,responseSave.response);
                //__ Realizamos Clear a la coleccion de Solicitud
                If(responseNewProd = "Ok",
                    UpdateContext({vsbNewRglMeses:false});
                    Reset(rvs_dpd_newRazonSocial_Meses);
                    Reset(rvs_dpd_newSubcategory_Meses);
                    Reset(rvs_dpd_newBrand_Meses);
                    Reset(rvs_cbx_3MesesRegla);
                    UpdateContext({vsbPopUpOk:true});
                    Set(responseSave,Blank());
                    Refresh(InnovationVolumeRule);
                // Obtenemos Catalogo Volumen Container completo
                ClearCollect(
                        colInnovationVlmRule,
                        Filter(InnovationVolumeRule, IDRegla <= 2000),
                        Filter(InnovationVolumeRule, IDRegla > 2000 && IDRegla <= 4000)
                );
                    );
                );
                
                // Desactivamos componente loading
                UpdateContext({vsbLoadingNewRglProd:false});
            PressedFill: =RGBA(56, 136, 210, 1)
            Text: ="Agregar"
            Visible: =vsbNewRglMeses
            Width: =130
            X: =618
            Y: =578
            ZIndex: =78

        rvs_lbl_newMsj_Meses As label:
            Align: =Align.Center
            Color: =RGBA(184, 0, 0, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =59
            Text: =responseSave.response
            Visible: =vsbNewRglMeses
            Width: =438
            X: =464
            Y: =641
            ZIndex: =79

    rvs_cmp_loading As Loading:
        Visible: =vsbLoadingNewRglProd
        ZIndex: =95

    rvs_grp_editInnovation As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =96

        rvs_fig_fondoEditInnova As rectangle:
            Fill: =RGBA(31, 95, 169, 0.5)
            Height: =768
            Visible: =vsbEditRglInnova
            Width: =1366
            ZIndex: =80

        rvs_fig_subfondoEditInnova As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(IsBlank(responseSave.response),465,545)
            Visible: =vsbEditRglInnova
            Width: =466
            X: =448
            Y: =145
            ZIndex: =81

        rvs_lbl_tituloEditInnova As label:
            Align: =Align.Center
            Color: =RGBA(71, 71, 71, 1)
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =50
            Size: =15
            Text: ="Editar Regla de Volumen"
            Visible: =vsbEditRglInnova
            Width: =466
            X: =448
            Y: =145
            ZIndex: =82

        rvs_lbl_editRazonSocial_Innova As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Razón Social"
            Visible: =vsbEditRglInnova
            X: =606
            Y: =223
            ZIndex: =83

        rvs_dpd_editRazonSocial_Innova As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(65, 65, 65, 1)
            DefaultSelectedItems: |-
                =Filter(
                    Filter(RazonSocial,Estatus = true),NombreRazonSocial = varRazonSocial)
            DisplayFields: =["NombreRazonSocial"]
            Font: =Font.Lato
            Height: =41
            HoverColor: =RGBA(65, 65, 65, 1)
            Items: =Filter(RazonSocial,Estatus = true)
            OnChange: |
                =// Reset al componente Brand
                Reset(rvs_dpd_brand_Product);
                // Generamos la lista Brand
                Set(varConcatBrand,Concat(Distinct(Search(Filter(colProductVlmRule, RAZONSOCIAL = rvs_dpd_razonSocial_Product.Selected.Value),rvs_dpd_editRazonSocial_Innova.Selected.Value,"SUBCATEGORY0"),BRAND),Value,";"))
            PressedColor: =RGBA(65, 65, 65, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["NombreRazonSocial"]
            SearchItems: =Search(Filter(RazonSocial,Estatus = true),rvs_dpd_editRazonSocial_Innova.SearchText,"NombreRazonSocial")
            SelectionFill: =RGBA(107, 165, 231, 1)
            SelectMultiple: =false
            Visible: =vsbEditRglInnova
            Width: =437
            X: =462
            Y: =247
            ZIndex: =84

        rvs_lbl_editSubcategory_Innova As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="SubCategory"
            Visible: =vsbEditRglInnova
            X: =606
            Y: =302
            ZIndex: =85

        rvs_dpd_editSubcategory_Innova As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DefaultSelectedItems: |-
                =Filter(
                    ForAll(Distinct(colLabProductCompleto,SUBCATEGORY),{Value:ThisRecord.Value}),Value in ForAll(varListSubcategory,{Value:ThisRecord.Value}))
            DisplayFields: =["Value"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            IsSearchable: =false
            Items: |-
                =ForAll(Distinct(colLabProductCompleto,SUBCATEGORY),{Value:ThisRecord.Value})
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Value"]
            SearchItems: =[]
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbEditRglInnova
            Width: =438
            X: =462
            Y: =327
            ZIndex: =86

        rvs_lbl_editBrand_Innova As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Brand"
            Visible: =vsbEditRglInnova
            X: =606
            Y: =381
            ZIndex: =87

        rvs_dpd_editBrand_Innova As combobox:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(71, 71, 71, 1)
            DefaultSelectedItems: |-
                =Filter(
                    ForAll(Distinct(Filter(colLabProductCompleto,SUBCATEGORY in rvs_dpd_editSubcategory_Innova.SelectedItems),BRAND), {Result: ThisRecord.Value}),Result in ForAll(varListBrand,{Value:ThisRecord.Value}))
            DisplayFields: =["Result"]
            Font: =Font.Lato
            HoverColor: =RGBA(71, 71, 71, 1)
            Items: |-
                =ForAll(Distinct(Filter(colLabProductCompleto,SUBCATEGORY in rvs_dpd_editSubcategory_Innova.SelectedItems),BRAND), {Result: ThisRecord.Value})
            PressedColor: =RGBA(71, 71, 71, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            SearchFields: =["Result"]
            SearchItems: |-
                =Search(ForAll(Distinct(Filter(colLabProductCompleto,SUBCATEGORY in rvs_dpd_editSubcategory_Innova.SelectedItems),BRAND), {Result: ThisRecord.Value}),rvs_dpd_editBrand_Innova.SearchText,"Result")
            SelectionFill: =RGBA(107, 165, 231, 1)
            Visible: =vsbEditRglInnova
            Width: =438
            X: =462
            Y: =406
            ZIndex: =88

        rvs_icn_editInnova_Cerrar As icon.CancelBadge:
            Color: =RGBA(71, 71, 71, 1)
            Height: =35
            Icon: =Icon.CancelBadge
            OnSelect: |-
                =// Realizamos Reset a los componentes
                Reset(rvs_dpd_editRazonSocial_Innova);
                Reset(rvs_dpd_editSubcategory_Innova);
                Reset(rvs_dpd_editBrand_Innova);
                Reset(rvs_tgg_editEstatus_Innova);
                Set(responseSave,Blank());
                UpdateContext({vsbEditRglInnova:false});
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            Visible: =vsbEditRglInnova
            Width: =35
            X: =865
            Y: =152
            ZIndex: =89

        rvs_btn_editInnova_Actualizar As button:
            Fill: =RGBA(107, 165, 231, 1)
            Font: =Font.Lato
            HoverFill: =ColorFade(RGBA(56, 136, 210, 1), -20%)
            OnSelect: |
                =// Activamos componente loading
                UpdateContext({vsbLoadingNewRglProd:true});
                Set(responseSave,Blank());
                //__ Validamos que no existan campos vacios
                If(IsBlank(rvs_dpd_editRazonSocial_Innova.Selected) || IsEmpty(rvs_dpd_editRazonSocial_Innova.Selected) || IsBlank(rvs_dpd_editSubcategory_Innova.Selected) || IsEmpty(rvs_dpd_editSubcategory_Innova.Selected) || IsBlank(rvs_dpd_editBrand_Innova.Selected) || IsEmpty(rvs_dpd_editBrand_Innova.Selected),
                    Notify("Para continuar, es necesario ingresar los datos correspondientes",NotificationType.Warning,5000),
                //__ Guardamos en una colección los datos de la solicitud
                Clear(colReglaVolInnova);
                    Collect(
                    colReglaVolInnova,
                    {
                        EmailUser: varEmail,
                        GPID: varUserGPID,
                        NombreUser: varUserName,
                        FechaCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "dd/mm/yyyyy"),
                        HoraCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "HH:mm"),
                        RazonSocial:rvs_dpd_editRazonSocial_Innova.Selected.NombreRazonSocial,
                        Subcategory: Concat(Sort(rvs_dpd_editSubcategory_Innova.SelectedItems,Value,SortOrder.Ascending),Value,";"),
                        Brand: Concat(Sort(rvs_dpd_editBrand_Innova.SelectedItems,Result,SortOrder.Ascending),Result,";"),
                        ReglaMesesVlm: rvs_cbx_edit3MesesRegla.Value,
                        Estatus: rvs_tgg_editEstatus_Innova.Value,
                        IDList: IdListRglInnova,
                        RazonSocial_old: varRazonSocial,
                        Subcategory_old: varSubcategory,
                        Brand_old: varBrand,
                        ReglaMesesVlm_old: varCheckMeses,
                        Estatus_old: varEstatus,
                        Year_Solicitud: Value(Year(Now())),
                        IdMes: Month(Now())
                    }
                    );
                
                    //__ Invocamos el Flujo de Automate
                Set(varJSONRegla,JSON(colReglaVolInnova));
                Set(responseSave,'[CPC]_EditRuleVolumenInnovation'.Run(varJSONRegla));
                Set(responseNewProd,responseSave.response);
                //__ Realizamos Clear a la coleccion de Solicitud
                If(responseNewProd = "Ok",
                    UpdateContext({vsbEditRglInnova:false});
                    Reset(rvs_dpd_editRazonSocial_Innova);
                    Reset(rvs_dpd_editSubcategory_Innova);
                    Reset(rvs_dpd_editBrand_Innova);
                    Reset(rvs_tgg_editEstatus_Innova);
                    UpdateContext({vsbPopUpOk:true});
                    Set(responseSave,Blank());
                    Refresh(InnovationVolumeRule);
                // Obtenemos Catalogo Volumen Product completo
                ClearCollect(
                        colInnovationVlmRule,
                        Filter(InnovationVolumeRule, IDRegla <= 2000),
                        Filter(InnovationVolumeRule, IDRegla > 2000 && IDRegla <= 4000)
                );
                    );
                );
                
                // Desactivamos componente loading
                UpdateContext({vsbLoadingNewRglProd:false});
            PressedFill: =RGBA(56, 136, 210, 1)
            Text: ="Actualizar"
            Visible: =vsbEditRglInnova
            Width: =130
            X: =616
            Y: =547
            ZIndex: =90

        rvs_lbl_editMsj_Innova As label:
            Align: =Align.Center
            Color: =RGBA(184, 0, 0, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =59
            Text: =responseSave.response
            Visible: =vsbEditRglInnova
            Width: =438
            X: =462
            Y: =602
            ZIndex: =91

        rvs_lbl_ediStatus_Innova As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =28
            Text: ="Estatus"
            Visible: =vsbEditRglInnova
            Width: =100
            X: =462
            Y: =531
            ZIndex: =92

        rvs_tgg_editEstatus_Innova As toggleSwitch:
            BorderStyle: =BorderStyle.None
            Default: =varEstatus
            FalseFill: =RGBA(255, 0, 0, 1)
            Height: =35
            ShowLabel: =false
            TrueFill: =RGBA(54, 176, 75, 1)
            Visible: =vsbEditRglInnova
            Width: =50
            X: =487
            Y: =559
            ZIndex: =93

        rvs_cbx_edit3MesesRegla As checkbox:
            BorderStyle: =BorderStyle.None
            Color: =RGBA(5, 28, 87, 1)
            Default: =varCheckMeses
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Text: ="3 Meses de Volumen"
            Visible: =vsbEditRglInnova
            Width: =233
            X: =567
            Y: =471
            ZIndex: =94

