ArchivoFuente_Screen As screen:
    BackgroundImage: =fondoPrincipal
    ImagePosition: =ImagePosition.Stretch

    afs_cmp_headerPrincipal As HeaderPrincipal:

    afs_icn_regresar As icon.Link:
        Color: =RGBA(255, 255, 255, 1)
        Height: =30
        Icon: =Icon.BackArrow
        OnSelect: =
        Width: =30
        X: =12
        Y: =15
        ZIndex: =2

    afs_lbl_titulo As label:
        Align: =Align.Center
        Color: =RGBA(5, 28, 87, 1)
        Font: =Font.Lato
        FontWeight: =FontWeight.Bold
        Height: =60
        Size: =26
        Text: ="Catálogo Archivo Fuente"
        Width: =1366
        Y: =60
        ZIndex: =3

    afs_cnt_headerArchivoFuente As groupContainer.manualLayoutContainer:
        Height: =40
        Width: =1366
        Y: =257
        ZIndex: =4

        afs_btn_headerID As button:
            Align: =Align.Left
            Color: =RGBA(65, 65, 65, 1)
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =14
            Text: ="ID"
            Width: =91
            X: =412
            ZIndex: =1

        afs_btn_headerNombre As button:
            Align: =Align.Left
            Color: =RGBA(65, 65, 65, 1)
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =14
            Text: ="Nombre"
            Width: =260
            X: =503
            ZIndex: =2

        afs_btn_headerEstatus As button:
            Align: =Align.Left
            Color: =RGBA(65, 65, 65, 1)
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =14
            Text: ="Estatus"
            Width: =110
            X: =763
            ZIndex: =3

        afs_btn_accion As button:
            Color: =RGBA(65, 65, 65, 1)
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(196, 222, 251, 1)
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Text: =""
            Width: =102
            X: =873
            ZIndex: =7

    afs_cnt_dataArchivoFuente As groupContainer.manualLayoutContainer:
        Height: =418
        Width: =1366
        Y: =297
        ZIndex: =5

        afs_gal_dataArchivoFuente As gallery.galleryVertical:
            BorderColor: =RGBA(56, 136, 210, 1)
            BorderThickness: =1
            DelayItemLoading: =true
            Height: =350
            Items: |
                =
                Filter(ArchivoFuente,NombreArchivoFuente = afs_dpd_filterNombre.Selected.NombreArchivoFuente || afs_dpd_filterNombre.Selected.NombreArchivoFuente = Blank())
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =1
            TemplateSize: =40
            Width: =562
            X: =412
            ZIndex: =1

            gal_fig_separador_Product_2 As rectangle:
                Fill: =RGBA(201, 201, 201, 1)
                Height: =1
                OnSelect: =Select(Parent)
                Width: =Parent.TemplateWidth
                Y: =40
                ZIndex: =1

            afs_lbl_idArchivoFuente_Gal As label:
                Font: =Font.Lato
                OnSelect: =Select(Parent)
                Text: =ThisItem.IdArchivoFuente
                Width: =afs_btn_headerID.Width
                ZIndex: =2

            afs_lbl_nombreArchivoFuente_Gal As label:
                Color: =RGBA(65, 65, 65, 1)
                Font: =Font.Lato
                OnSelect: =Select(Parent)
                Text: =ThisItem.NombreArchivoFuente
                Width: =afs_btn_headerNombre.Width
                X: =91
                ZIndex: =3

            afs_fig_statusArchivoFuente_Gal As circle:
                DisplayMode: =DisplayMode.View
                Fill: =If(ThisItem.Estatus = true,RGBA(101, 201, 135, 1),RGBA(227, 55, 44, 1))
                Height: =15
                OnSelect: =Select(Parent)
                Width: =15
                X: =380
                Y: =12
                ZIndex: =4

            afs_img_editArchivoFuente_Gal As image:
                Height: =25
                Image: =btnEdit
                OnSelect: =Select(Parent)
                Width: =25
                X: =495
                Y: =7
                ZIndex: =5

            afs_btn_editArchivoFuente_Gal As button:
                Fill: =Color.Transparent
                Height: =25
                HoverFill: =RGBA(56, 136, 210, 0.5)
                OnSelect: |-
                    =UpdateContext({vsbLoadingArchivoFuente:true});
                    Select(Parent);
                    Set(varIdListAF, ThisItem.ID);
                    Set(varNombre_old,ThisItem.NombreArchivoFuente);
                    Set(varEstatus_old,ThisItem.Estatus);
                    UpdateContext({vsbPopupEditArchivoF:true});
                    UpdateContext({vsbLoadingArchivoFuente:false});
                PressedFill: =RGBA(56, 136, 210, 0.2)
                Text: =""
                Width: =25
                X: =495
                Y: =7
                ZIndex: =6

    afs_cnt_dataFilterArchivoF As groupContainer.manualLayoutContainer:
        Height: =100
        Width: =1366
        Y: =141
        ZIndex: =6

        afs_btn_buscarNombre As button:
            Align: =Align.Left
            Color: =RGBA(65, 65, 65, 1)
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(0, 0, 0, 0)
            Font: =Font.Lato
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =14
            Text: ="Nombre Archivo Fuente"
            Width: =356
            X: =505
            ZIndex: =1

        afs_img_nuevo As image:
            Height: =50
            Image: =add
            Width: =50
            X: =924
            Y: =30
            ZIndex: =3

        afs_btn_nuevo As button:
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(0, 0, 0, 0)
            DisabledFill: =RGBA(0, 0, 0, 0)
            Fill: =Color.Transparent
            Height: =50
            HoverFill: =RGBA(56, 136, 210, 0.5)
            OnSelect: |-
                =UpdateContext({vsbLoadingArchivoFuente:true});
                UpdateContext({vsbPopupNewArchivoF:true});
                UpdateContext({vsbLoadingArchivoFuente:false});
            PressedFill: =RGBA(56, 136, 210, 0.2)
            Text: =""
            Width: =50
            X: =924
            Y: =30
            ZIndex: =4

        afs_dpd_filterNombre As dropdown:
            AllowEmptySelection: =true
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 18, 107, 1)
            ChevronHoverBackground: =RGBA(255, 255, 255, 1)
            ChevronHoverFill: =RGBA(0, 18, 107, 1)
            Color: =RGBA(65, 65, 65, 1)
            Default: =""
            Font: =Font.Lato
            HoverColor: =RGBA(65, 65, 65, 1)
            Items: =ArchivoFuente
            PressedColor: =RGBA(65, 65, 65, 1)
            PressedFill: =RGBA(56, 136, 210, 1)
            Reset: =true
            SelectionFill: =RGBA(107, 165, 231, 1)
            Width: =356
            X: =505
            Y: =40
            ZIndex: =5

    afs_cmp_loading As Loading:
        Visible: =vsbLoadingArchivoFuente
        ZIndex: =22

    afs_grp_msjOk As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =33

        afs_fig_fondo_MsjOk As rectangle:
            Fill: =RGBA(31, 95, 169, 0.5)
            Height: =768
            Visible: =vsbMsjOk
            Width: =1366
            ZIndex: =15

        afs_fig_subfondo_MsjOk As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =284
            Visible: =vsbMsjOk
            Width: =598
            X: =385
            Y: =192
            ZIndex: =16

        afs_lbl_titulo_MsjOk As label:
            Align: =Align.Center
            Color: =RGBA(65, 65, 65, 1)
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =45
            Text: =""
            Visible: =vsbMsjOk
            Width: =598
            X: =385
            Y: =192
            ZIndex: =17

        "'afs_lbl_msj_ Ok' As label":
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =56
            Text: ="Registro Guardado con Éxito"
            Visible: =vsbMsjOk
            Width: =598
            X: =384
            Y: =371
            ZIndex: =18

        afs_lbl_headerTitulo_MsjOk As label:
            Align: =Align.Center
            Color: =RGBA(71, 71, 71, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =42
            Text: =""
            Visible: =vsbMsjOk
            Width: =599
            X: =384
            Y: =192
            ZIndex: =19

        afs_icn_cerrar_MsjOk As icon.ChevronDown:
            Color: =RGBA(65, 65, 65, 1)
            Height: =40
            Icon: =Icon.BackArrow
            OnSelect: |-
                =UpdateContext({vsbMsjOk:false});
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            Visible: =vsbMsjOk
            Width: =40
            X: =398
            Y: =194
            ZIndex: =20

        afs_icn_ok_Msj As icon.Calculator:
            Color: =RGBA(56, 136, 210, 1)
            DisplayMode: =DisplayMode.View
            Icon: =Icon.CheckBadge
            Visible: =vsbMsjOk
            X: =651
            Y: =285
            ZIndex: =21

    afs_grp_nuevoArchivoFuente As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =34

        afss_fig_fondo_New As rectangle:
            Fill: =RGBA(31, 95, 169, 0.5)
            Height: =768
            Visible: =vsbPopupNewArchivoF
            Width: =1366
            ZIndex: =7

        afs_fig_subfondo_New As rectangle:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(IsBlank(responseNuevoArchivoF.response),220,298)
            Visible: =vsbPopupNewArchivoF
            Width: =524
            X: =437
            Y: =203
            ZIndex: =8

        afs_lbl_tituloNuevoArchivo As label:
            Align: =Align.Center
            Color: =RGBA(65, 65, 65, 1)
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =50
            Text: ="Nuevo Archivo Fuente"
            Visible: =vsbPopupNewArchivoF
            Width: =524
            X: =437
            Y: =203
            ZIndex: =9

        afs_lbl_nuevoNombreArchivo As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Nombre"
            Visible: =vsbPopupNewArchivoF
            Width: =130
            X: =634
            Y: =276
            ZIndex: =10

        afs_txt_nuevoNombreArchivo As text:
            BorderColor: =RGBA(107, 165, 231, 1)
            BorderThickness: =1
            Color: =RGBA(65, 65, 65, 1)
            Default: =""
            Font: =Font.Lato
            HoverBorderColor: =RGBA(107, 165, 231, 1)
            HoverColor: =RGBA(65, 65, 65, 1)
            OnChange: =
            Visible: =vsbPopupNewArchivoF
            X: =539
            Y: =301
            ZIndex: =11

        afs_icn_cancelar_New As icon.CancelBadge:
            Color: =RGBA(65, 65, 65, 1)
            Height: =35
            Icon: =Icon.CancelBadge
            OnSelect: |-
                =UpdateContext({vsbPopupNewArchivoF:false});
                Reset(afs_txt_nuevoNombreArchivo);
                Set(responseNuevoArchivoF,Blank());
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            Visible: =vsbPopupNewArchivoF
            Width: =35
            X: =913
            Y: =210
            ZIndex: =12

        afs_lbl_msjError_New As label:
            Align: =Align.Center
            Color: =RGBA(184, 0, 0, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =62
            Size: =12
            Text: =responseNuevoArchivoF.response
            Visible: =vsbPopupNewArchivoF
            Width: =514
            X: =442
            Y: =419
            ZIndex: =13

        rvs_btn_newProduct_Agregar_2 As button:
            Fill: =RGBA(107, 165, 231, 1)
            Font: =Font.Lato
            HoverFill: =ColorFade(RGBA(56, 136, 210, 1), -20%)
            OnSelect: |-
                =//__ Activamos componente loading
                UpdateContext({vsbLoadingArchivoFuente:true});
                //__ Realizamos Reset
                Set(responseNuevoArchivoF,Blank());
                Clear(colNewArchivoFuente);
                //__ Validamos que no existan campos vacios
                If(IsBlank(afs_txt_nuevoNombreArchivo) || IsEmpty(afs_txt_nuevoNombreArchivo),
                    Notify("Para continuar, es necesario ingresar los datos correspondientes",NotificationType.Error,5000),
                //__ Guardamos en una colección los datos de la busqueda
                    Collect(
                    colNewArchivoFuente,
                    {
                        EmailUser: varEmail,
                        GPID: varUserGPID,
                        NombreUser: varUserName,
                        FechaCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "dd/mm/yyyyy"),
                        HoraCreacion: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "HH:mm"),
                        ArchivoFuente: afs_txt_nuevoNombreArchivo.Text,
                        TipoCatalogo: "Catalogo Maestro - Archivo Fuente",
                        MesSolicitud: Text(DateTimeValue(Text( Now(),DateTimeFormat.ShortDateTime24)), "mmmm"),
                        YearSolicitud:Value(Year(Now()))
                    }
                    );
                
                //__ Invocamos el Flujo de Automate
                Set(varJSON,JSON(colNewArchivoFuente));
                Set(responseNuevoArchivoF,'[CPC]_SaveArchivoFuente'.Run(varJSON));
                Set(responseAF,responseNuevoArchivoF.response);
                If(responseAF = "Ok",
                    UpdateContext({vsbPopupNewArchivoF:false});
                    Reset(afs_txt_nuevoNombreArchivo);
                    Refresh(ArchivoFuente);
                    UpdateContext({vsbMsjOk:true});
                    Set(responseNuevoArchivoF,Blank());
                    );
                
                );
                
                //__ Activamos componente loading
                UpdateContext({vsbLoadingArchivoFuente:false});
            PressedFill: =RGBA(56, 136, 210, 1)
            Text: ="Agregar"
            Visible: =vsbPopupNewArchivoF
            Width: =130
            X: =634
            Y: =366
            ZIndex: =14

    afs_grp_editarArchivoFuente As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =36

        afs_fig_fondo_Edit As rectangle:
            Fill: =RGBA(0, 18, 107, 0.5)
            Height: =768
            Visible: =vsbPopupEditArchivoF
            Width: =1366
            ZIndex: =23

        afs_fig_subfondo_Edit As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =406
            Visible: =vsbPopupEditArchivoF
            Width: =524
            X: =422
            Y: =181
            ZIndex: =24

        afs_lbl_tituloArchivoF_Edit As label:
            Align: =Align.Center
            Color: =RGBA(65, 65, 65, 1)
            Fill: =RGBA(196, 222, 251, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =50
            Text: ="Editar Archivo Fuente"
            Visible: =vsbPopupEditArchivoF
            Width: =524
            X: =422
            Y: =181
            ZIndex: =25

        afs_lbl_idArchivoF_Edit As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Fill: =RGBA(255, 255, 255, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="ID"
            Visible: =vsbPopupEditArchivoF
            Width: =524
            X: =422
            Y: =255
            ZIndex: =26

        afs_txt_idArchivoF_Edit As text:
            Align: =Align.Center
            Default: =varIdListAF
            DisplayMode: =DisplayMode.View
            Font: =Font.Lato
            Visible: =vsbPopupEditArchivoF
            X: =520
            Y: =282
            ZIndex: =27

        afs_lbl_nombreArchivoF_Edit As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Fill: =RGBA(255, 255, 255, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Nombre"
            Visible: =vsbPopupEditArchivoF
            Width: =524
            X: =422
            Y: =334
            ZIndex: =28

        afs_txt_nombreArchivoF_Edit As text:
            Align: =Align.Center
            BorderColor: =RGBA(107, 165, 231, 1)
            Color: =RGBA(65, 65, 65, 1)
            Default: =varNombre_old
            Font: =Font.Lato
            HoverBorderColor: =RGBA(107, 165, 231, 1)
            HoverColor: =RGBA(65, 65, 65, 1)
            Visible: =vsbPopupEditArchivoF
            Width: =437
            X: =465
            Y: =360
            ZIndex: =29

        afs_lbl_estatusArchivoF_Edit As label:
            Align: =Align.Center
            Color: =RGBA(5, 28, 87, 1)
            Fill: =RGBA(255, 255, 255, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =25
            Text: ="Estatus"
            Visible: =vsbPopupEditArchivoF
            X: =427
            Y: =447
            ZIndex: =30

        afs_tgg_estatusArchivoF_Edit As toggleSwitch:
            BorderStyle: =BorderStyle.None
            Default: =varEstatus_old
            FalseFill: =RGBA(255, 0, 0, 1)
            Height: =35
            ShowLabel: =false
            TrueFill: =RGBA(54, 176, 75, 1)
            Visible: =vsbPopupEditArchivoF
            Width: =50
            X: =473
            Y: =472
            ZIndex: =31

        afs_icn_cancelarArchivoF_Edit As icon.CancelBadge:
            Color: =RGBA(65, 65, 65, 1)
            Height: =35
            Icon: =Icon.CancelBadge
            OnSelect: |
                =UpdateContext({vsbPopupEditArchivoF:false});
                Set(responseNuevoRegion,Blank());
                Reset(afs_tgg_estatusArchivoF_Edit);
                Reset(afs_txt_nombreArchivoF_Edit);
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            Visible: =vsbPopupEditArchivoF
            Width: =35
            X: =897
            Y: =188
            ZIndex: =32

        afs_lbl_msjErrorArchivoF_Edit As label:
            Align: =Align.Center
            Color: =RGBA(184, 0, 0, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Semibold
            Height: =62
            Size: =12
            Text: =responseNuevoRegion.response
            Visible: =vsbPopupEditArchivoF
            Width: =514
            X: =427
            Y: =513
            ZIndex: =34

        afs_btn_editArchivoF_Actualizar As button:
            Fill: =RGBA(107, 165, 231, 1)
            Font: =Font.Lato
            HoverFill: =ColorFade(RGBA(56, 136, 210, 1), -20%)
            OnSelect: =
            PressedFill: =RGBA(56, 136, 210, 1)
            Text: ="Actualizar"
            Visible: =vsbPopupEditArchivoF
            Width: =130
            X: =630
            Y: =454
            ZIndex: =35

